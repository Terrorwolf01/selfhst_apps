<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Komodo Releases</title>
  <updated>2024-10-10T16:33:03.649184-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/mbecker20/komodo/releases/tag/v1.15.0</id>
    <title>New release for Komodo: Komodo v1.15.0</title>
    <updated>2024-10-07T04:25:24-04:00</updated>
    <author>
      <name>mbecker20/komodo</name>
    </author>
    <content>&lt;p&gt;To see the changes to the UI, check out the demo: &lt;a href="https://demo.komo.do"&gt;https://demo.komo.do&lt;/a&gt; (you can log in with &lt;code&gt;demo : demo&lt;/code&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can now &lt;strong&gt;log in with self hosted SSO provider&lt;/strong&gt; using OIDC. Tested with &lt;em&gt;Authentik&lt;/em&gt; and &lt;em&gt;Gitea&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;KOMODO_OIDC_&lt;/code&gt; env vars to configure: &lt;a href="https://github.com/mbecker20/komodo/blob/main/compose/compose.env#L74"&gt;https://github.com/mbecker20/komodo/blob/main/compose/compose.env#L74&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utilizes the &lt;a href="https://github.com/ramosbugs/openidconnect-rs"&gt;openidconnect crate&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UX Improvements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redesigned all resource headers and configs thanks to @karamvirsingh98&lt;/li&gt;
&lt;li&gt;improve in UI editors using &lt;a href="https://microsoft.github.io/monaco-editor"&gt;monaco-editor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Along with the nice editor, you can also now &lt;strong&gt;update compose files on server&lt;/strong&gt; from the UI. - @DanCardin&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;monaco-editor&lt;/code&gt; diffing to diff all changes to configuration and resource sync pending changes.&lt;/li&gt;
&lt;li&gt;Environments now keep comments - @FibreTTP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Periphery supports &lt;strong&gt;https enabled communication&lt;/strong&gt; using self signed certs - @seancallaway&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable with &lt;code&gt;- PERIPHERY_SSL_ENABLED: true&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Repo-based stacks can now &lt;strong&gt;pull the repo on deploy, and no longer deletes the folder after deploy&lt;/strong&gt; &lt;a href="https://github.com/mbecker20/komodo/issues/68"&gt;issue&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Alerter Discord support - @LawMixer&lt;/li&gt;
&lt;li&gt;Implement KOMODO_DISABLE_CONFIRM_DIALOG - disable the popups which become slow without copy / paste - @drixtol&lt;/li&gt;
&lt;li&gt;Support "_FILE" env variables for use with docker compose secrets - @Cheezzhead&lt;/li&gt;
&lt;li&gt;Stacks support passing --env-file {custom file} even when no env vars defined in Komodo. Users can have .env file on server and attach it.&lt;/li&gt;
&lt;li&gt;KOMODO_DISABLE_NON_ADMIN_CREATE config&lt;/li&gt;
&lt;li&gt;Super admin user which can give other users admin&lt;/li&gt;
&lt;li&gt;Slim down images - @neicureuil &lt;/li&gt;
&lt;li&gt;Tried alpine base, but &lt;code&gt;musl&lt;/code&gt; doesn't play very nicely with Rust.&lt;/li&gt;
&lt;li&gt;Did manage to slim down the images on debian base: 250 MB for Core, 350 MB for Periphery.&lt;/li&gt;
&lt;li&gt;Improve setup compose files (&lt;code&gt;database.compose.yaml&lt;/code&gt; and &lt;code&gt;compose.env&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;For example, &lt;code&gt;sqlite&lt;/code&gt;: &lt;a href="https://komo.do/docs/setup/sqlite"&gt;https://komo.do/docs/setup/sqlite&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Environment / volumes / ports resource file deserializers keep comments and support more syntaxes for greater copy-paste compatibility&lt;/li&gt;
&lt;li&gt;Supports:
  ```
  # "Env Var"
  VARIABLE = value 
  # "Key Value"
  VARIABLE: value
  # "Yaml Array"&lt;/li&gt;
&lt;li&gt;"VARIABLE=value"&lt;/li&gt;
&lt;li&gt;/path/to/folder:/folder
  ```&lt;/li&gt;
&lt;li&gt;Resource Sync&lt;ul&gt;
&lt;li&gt;In UI editor and Files on Host mode&lt;/li&gt;
&lt;li&gt;Info tab to see file contents&lt;/li&gt;
&lt;li&gt;"Managed" mode&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Core-based repo hash service more efficient in getting the latest commit hashes to compare against the built / deployed hash.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Public Build Server&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;The Komodo release builds are now done one a publicly accessible Komodo instance: &lt;/li&gt;
&lt;li&gt;&lt;a href="https://build.komo.do"&gt;https://build.komo.do&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ðŸ”’ Upgrading to HTTPS:&lt;/h2&gt;
&lt;p&gt;For backward compatibility, the default for Periphery is still &lt;code&gt;http&lt;/code&gt;. However the configs are all updated to enable SSL, including the &lt;code&gt;systemd installer&lt;/code&gt;, and compose file examples. After updating to 1.15, be sure to add &lt;code&gt;PERIPHERY_SSL_ENABLED: true&lt;/code&gt; to your compose file &lt;code&gt;periphery&lt;/code&gt; service, or add &lt;code&gt;ssl_enabled = true&lt;/code&gt; to your &lt;code&gt;periphery.config.toml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Note that you will also need to update your &lt;code&gt;Server&lt;/code&gt; address from &lt;code&gt;http://...&lt;/code&gt; to &lt;code&gt;https://...&lt;/code&gt;. &lt;/p&gt;
&lt;h2&gt;Stacks + Resource Sync users&lt;/h2&gt;
&lt;p&gt;If you are using the default &lt;code&gt;run_directory&lt;/code&gt;, the sync will show this change &lt;code&gt;run_directory = "./" =&amp;gt; ____________ (emty line)&lt;/code&gt;.
This is expected and this change should be synced. The behavior will of the Stack be the same.&lt;/p&gt;
&lt;p&gt;When you upgrade Komodo, be sure to open your browser console/dev-tools, go to network tab, disable cache, and the reload page with dev-tools open. Otherwise, your browser may keep using a cached version of the old UI version.&lt;/p&gt;
&lt;p&gt;Thanks to everyone involved in this release, your feedback has been invaluable.&lt;/p&gt;
&lt;p&gt;Enjoy ðŸ¦Ž&lt;/p&gt;</content>
    <link href="https://github.com/mbecker20/komodo/releases/tag/v1.15.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mbecker20/komodo/releases/tag/v1.15.1</id>
    <title>New release for Komodo: Komodo v1.15.1</title>
    <updated>2024-10-07T13:41:45-04:00</updated>
    <author>
      <name>mbecker20/komodo</name>
    </author>
    <content>&lt;p&gt;Some OIDC providers are having some trouble working with Komodo, this update should help fix some issue with a trailing &lt;code&gt;/&lt;/code&gt; with the provider URL:&lt;/p&gt;
&lt;p&gt;If you see an error like this in the Komodo Core startup logs, this release may help:
&lt;code&gt;``
called&lt;/code&gt;Result::unwrap()&lt;code&gt;on an&lt;/code&gt;Err` value: Failed to init default OIDC client&lt;/p&gt;
&lt;p&gt;Caused by:
    0: Failed to get OIDC /.well-known/openid-configuration
    1: Validation error: unexpected issuer URI &lt;code&gt;https://your.provider.domain&lt;/code&gt; (expected &lt;code&gt;https:/your.provider.domain/&lt;/code&gt;)
```
If you see this, ensure your KOMODO_OIDC_PROVIDER does NOT end in a trailing slash, and try it again with this release 1.15.1.&lt;/p&gt;
&lt;p&gt;ðŸš¨ Authentik Users
- Ensure your &lt;code&gt;KOMODO_OIDC_PROVIDER&lt;/code&gt; &lt;em&gt;DOES&lt;/em&gt; end in a trailing &lt;code&gt;/&lt;/code&gt;, it is now sensitive to this. Other providers may require trailing &lt;code&gt;/&lt;/code&gt;, or NOT require trailing &lt;code&gt;/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Note. I do release Komodo Periphery 1.15.1 as well for version alignment, there is no change to Periphery from 1.15.0 here and &lt;strong&gt;Periphery doesn't need to be upgraded again&lt;/strong&gt; (you can if you like).&lt;/p&gt;
&lt;p&gt;Thanks to everyone that tried out OIDC so far and reported this issue. ðŸ¦Ž&lt;/p&gt;</content>
    <link href="https://github.com/mbecker20/komodo/releases/tag/v1.15.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mbecker20/komodo/releases/tag/v1.15.2</id>
    <title>New release for Komodo: Komodo v1.15.2</title>
    <updated>2024-10-07T16:01:31-04:00</updated>
    <author>
      <name>mbecker20/komodo</name>
    </author>
    <content>&lt;p&gt;Some OIDC providers are having some trouble working with Komodo. It seems some providers (like Zitadel) attach additional audiences besides the &lt;code&gt;client_id&lt;/code&gt;, and Core needs to know about it. This adds &lt;code&gt;KOMODO_OIDC_ADDITIONAL_AUDIENCES=aud-1,aud-2&lt;/code&gt; environment variable to add additional audiences you need.&lt;/p&gt;
&lt;p&gt;If you see an error like this when you try to login with your OIDC provider:
&lt;code&gt;{"error":"Failed to verify token claims","trace":["Invalid audiences: `&amp;lt;AUDIENCE&amp;gt;` is not a trusted audience"]}&lt;/code&gt;
If the audience can be trusted, you can add the &lt;AUDIENCE&gt; to &lt;code&gt;KOMODO_OIDC_ADDITIONAL_AUDIENCES&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Note. I do release Komodo Periphery 1.15.2 as well for version alignment, there is no change to Periphery from 1.15.0 here and Periphery doesn't need to be upgraded again (you can if you like).&lt;/p&gt;
&lt;p&gt;Thanks to everyone that tried out OIDC so far and reported this issue. ðŸ¦Ž&lt;/p&gt;</content>
    <link href="https://github.com/mbecker20/komodo/releases/tag/v1.15.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mbecker20/komodo/releases/tag/v1.15.3</id>
    <title>New release for Komodo: Komodo v1.15.3</title>
    <updated>2024-10-09T02:27:46-04:00</updated>
    <author>
      <name>mbecker20/komodo</name>
    </author>
    <content>&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix for Gitlab compatibility - Requires Periphery update - @Cirx08&lt;/li&gt;
&lt;li&gt;Support Stack pre deploy shell command - @mercxry&lt;/li&gt;
&lt;li&gt;Add toggle to return to behavior of recloning stack every time.&lt;/li&gt;
&lt;li&gt;Fix writing Stack compose file on server causes UI to freeze&lt;/li&gt;
&lt;li&gt;Env variable / volume / port parser supports single quote (&lt;code&gt;'&lt;/code&gt;) wrapped value&lt;/li&gt;
&lt;li&gt;Deployments can configure registry account to log in with for private images&lt;/li&gt;
&lt;li&gt;When you only have one server, new Stacks / Deployments will auto assign it to the single server.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;There are some backward-compatible changes to the Periphery agent. Particularly, Gitlab support requires Periphery update.&lt;/p&gt;
&lt;p&gt;Thanks to everyone involved in this release, your feedback has been invaluable. ðŸ¦Ž&lt;/p&gt;</content>
    <link href="https://github.com/mbecker20/komodo/releases/tag/v1.15.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mbecker20/komodo/releases/tag/v1.15.4</id>
    <title>New release for Komodo: Komodo v1.15.4</title>
    <updated>2024-10-10T03:52:03-04:00</updated>
    <author>
      <name>mbecker20/komodo</name>
    </author>
    <content>&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DeployStack&lt;/code&gt;: Only compose down if "Destroy Before Deploy" is enabled.&lt;/li&gt;
&lt;li&gt;Add timestamps toggle to the logs - @LawMixer&lt;/li&gt;
&lt;li&gt;Add build $VERSION to variables, interpolate it with [[$VERSION]], and also pass VERSION as a --build-arg (if its not already set)&lt;/li&gt;
&lt;li&gt;For fresh installs using &lt;code&gt;first_server&lt;/code&gt;: a default Builder will also be created pointing to the Server&lt;/li&gt;
&lt;li&gt;All the commands (Stack &lt;code&gt;pre_deploy&lt;/code&gt;, Build &lt;code&gt;pre_build&lt;/code&gt;, Repo &lt;code&gt;on_pull&lt;/code&gt;) &lt;strong&gt;support multiline shell and comments&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrading&lt;/h2&gt;
&lt;p&gt;These are all backward-compatible changes to the Periphery agent. Will need to upgrade Periphery to use the new features.&lt;/p&gt;
&lt;p&gt;Thanks to everyone involved in this release, your feedback has been invaluable. ðŸ¦Ž&lt;/p&gt;</content>
    <link href="https://github.com/mbecker20/komodo/releases/tag/v1.15.4" rel="alternate"/>
  </entry>
</feed>
