<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Unbound Releases</title>
  <updated>2024-08-12T13:32:04.811056-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.0</id>
    <title>New release for Unbound: Unbound 1.19.0</title>
    <updated>2023-11-08T04:54:09-05:00</updated>
    <author>
      <name>NLnetLabs/unbound</name>
    </author>
    <content>&lt;p&gt;Unbound 1.19.0&lt;/p&gt;
&lt;p&gt;This release fixes a number of bugs, and adds some smaller features.
The &lt;code&gt;redis-logical-db&lt;/code&gt; option and &lt;code&gt;cachedb-no-store&lt;/code&gt; option can be used
for cachedb configuration. The &lt;code&gt;disable-edns-do&lt;/code&gt; option can be used for
working around broken network parts. For DNS64 there is fallback to
plain AAAA when no A record exists.&lt;/p&gt;
&lt;p&gt;There is a bug fix that when the UDP interface keeps returning that
sending is not possible, unbound does not loop endlessly and waits
for the condition to go away.&lt;/p&gt;
&lt;p&gt;Resource records of type A and AAAA that are an inappropriate length
are removed from responses. This hardens against bad content.&lt;/p&gt;
&lt;p&gt;Features
- Fix #850: [FR] Ability to use specific database in Redis, with new
  redis-logical-db configuration option.
- Merge #944: Disable EDNS DO.
  Disable the EDNS DO flag in upstream requests. This can be helpful
  for devices that cannot handle DNSSEC information. But it should not
  be enabled otherwise, because that would stop DNSSEC validation. The
  DNSSEC validation would not work for Unbound itself, and also not
  for downstream users. Default is no. The option
  is disable-edns-do: no
- Expose the script filename in the Python module environment 'mod_env'
  instead of the config_file structure which includes the linked list
  of scripts in a multi Python module setup; fixes #79.
- Expose the configured listening and outgoing interfaces, if any, as
  a list of strings in the Python 'config_file' class instead of the
  current Swig object proxy; fixes #79.
- Mailing list patches from Daniel Gröber for DNS64 fallback to plain
  AAAA when no A record exists for synthesis, and minor DNS64 code
  refactoring for better readability.
- Merge #951: Cachedb no store. The cachedb-no-store: yes option is
  used to stop cachedb from writing messages to the backend storage.
  It reads messages when data is available from the backend. The
  default is no.&lt;/p&gt;
&lt;p&gt;Bug Fixes
- Fix for version generation race condition that ignored changes.
- Fix #942: 1.18.0 libunbound DNS regression when built without
  OpenSSL.
- Fix for WKS call to getservbyname that creates allocation on exit
  in unit test by testing numbers first and testing from the services
  list later.
- Fix autoconf 2.69 warnings in configure.
- Fix #927: unbound 1.18.0 make test error. Fix make test without SHA1.
- Merge #931: Prevent warnings from -Wmissing-prototypes.
- Fix to scrub resource records of type A and AAAA that have an
  inappropriate size. They are removed from responses.
- Fix to move msgparse_rrset_remove_rr code to util/msgparse.c.
- Fix to add EDE text when RRs have been removed due to length.
- Fix to set ede match in unit test for rr length removal.
- Fix to print EDE text in readable form in output logs.
- Fix send of udp retries when ENOBUFS is returned. It stops looping
  and also waits for the condition to go away. Reported by Florian
  Obser.
- Fix authority zone answers for obscured DNAMEs and delegations.
- Merge #936: Check for c99 with autoconf versions prior to 2.70.
- Fix to remove two c99 notations.
- Fix rpz tcp-only action with rpz triggers nsdname and nsip.
- Fix misplaced comment.
- Merge #881: Generalise the proxy protocol code.
- Fix #946: Forwarder returns servfail on upstream response noerror no
  data.
- Fix edns subnet so that queries with a source prefix of zero cause
  the recursor send no edns subnet option to the upstream.
- Fix that printout of EDNS options shows the EDNS cookie option by
  name.
- Fix infinite loop when reading multiple lines of input on a broken
  remote control socket. Addesses #947 and #948.
- Fix #949: "could not create control compt".
- Fix that cachedb does not warn when serve-expired is disabled about
  use of serve-expired-reply-ttl and serve-expired-client-timeout.
- Fix for #949: Fix pythonmod/ubmodule-tst.py for Python 3.x.
- Better fix for infinite loop when reading multiple lines of input on
  a broken remote control socket, by treating a zero byte line the
  same as transmission end. Addesses #947 and #948.
- For multi Python module setups, clean previously parsed module
  functions in &lt;strong&gt;main&lt;/strong&gt;'s dictionary, if any, so that only current
  module functions are registered.
- Fix #954: Inconsistent RPZ handling for A record returned along with
  CNAME.
- Fixes for the DNS64 patches.
- Update the dns64_lookup.rpl test for the DNS64 fallback patch.
- Merge #955 from buevsan: fix ipset wrong behavior.
- Update testdata/ipset.tdir test for ipset fix.
- Fix to print detailed errors when an SSL IO routine fails via
  SSL_get_error.
- Clearer configure text for missing protobuf-c development libraries.
- autoconf.
- Merge #930 from Stuart Henderson: add void to
  log_ident_revert_to_default declaration.
- Fix #941: dnscrypt doesn't work after upgrade to 1.18 with
  suggestion by dukeartem to also fix the udp_ancil with dnscrypt.
- Fix SSL compile failure for definition in log_crypto_err_io_code_arg.
- Fix SSL compile failure for other missing definitions in
  log_crypto_err_io_code_arg.
- Fix compilation without openssl, remove unused function warning.
- Mention flex and bison in README.md when building from repository
  source.&lt;/p&gt;</content>
    <link href="https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.1</id>
    <title>New release for Unbound: Unbound 1.19.1</title>
    <updated>2024-02-13T07:54:31-05:00</updated>
    <author>
      <name>NLnetLabs/unbound</name>
    </author>
    <content>&lt;p&gt;Unbound 1.19.1&lt;/p&gt;
&lt;p&gt;This security release fixes two DNSSEC validation vulnerabilities:
CVE-2023-50387 (referred here as the KeyTrap vulnerability) and
CVE-2023-50868 (referred here as the NSEC3 vulnerability).&lt;/p&gt;
&lt;p&gt;The KeyTrap vulnerability works by using a combination of Keys (also
colliding Keys), Signatures and number of RRSETs on a malicious zone.
Answers from that zone can force a DNSSEC validator down a very CPU
intensive and time costly validation path.&lt;/p&gt;
&lt;p&gt;The NSEC3 vulnerability uses specially crafted responses on a malicious
zone with multiple NSEC3 RRSETs to force a DNSSEC validator down a very
CPU intensive and time costly NSEC3 hash calculation path.&lt;/p&gt;
&lt;p&gt;Both can force Unbound to spend an enormous time (comparative to regular
traffic) validating a single specially crafted DNSSEC response while
everything else is on hold for that thread. A trivially orchestrated
attack could render all threads busy with such responses leading to
denial of service.&lt;/p&gt;
&lt;p&gt;From version 1.19.1 on, Unbound introduces suspension on DNSSEC response
validations that seem to require more attempts than Unbound is willing
to make per response validation run. Suspension means that Unbound
will continue with other work before resuming a suspended validation
offering CPU time between validation resumptions to other tasks. There is
a backoff timer when suspending which is further influenced by the number
of suspends already used and the amount of work currently in Unbound.&lt;/p&gt;
&lt;p&gt;The introduced builtin limits in Unbound are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Max 4 DNSSEC key collissions are allowed when building chain of trust.
  More than that without a secure key treats the delegation as bogus.&lt;/li&gt;
&lt;li&gt;8 validation attempts per RRSET (combination of keys + signatures).
  If more are needed and Unbound has yet to find a valid signature
  the RRSET is treated as bogus.&lt;/li&gt;
&lt;li&gt;More than 8 validation attempts per answer will suspend validation.&lt;/li&gt;
&lt;li&gt;8 NSEC3 hash calculations are allowed before suspension. More than
  that will suspend validation.&lt;/li&gt;
&lt;li&gt;The limit of total suspensions is 16 after which the query will error
  out. Any completed RRSET validations populate the cache for use in
  future queries.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While under attack Unbound could show higher CPU load because of the
needed validations but the suspend strategy would guarantee the CPU is
not locked on any particular validation task.&lt;/p&gt;
&lt;p&gt;We would like to thank Elias Heftrig, Haya Schulmann, Niklas Vogel, and
Michael Waidner from the German National Research Center for Applied
Cybersecurity ATHENE for discovering and responsibly disclosing the
KeyTrap vulnerability.&lt;/p&gt;
&lt;p&gt;We would like to thank Petr Špaček from ISC for discovering and
responsibly disclosing the NSEC3 vulnerability.&lt;/p&gt;
&lt;p&gt;Bug Fixes
- Fix CVE-2023-50387, DNSSEC verification complexity can be exploited to
  exhaust CPU resources and stall DNS resolvers.
- Fix CVE-2023-50868, NSEC3 closest encloser proof can exhaust CPU.&lt;/p&gt;</content>
    <link href="https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.2</id>
    <title>New release for Unbound: Unbound 1.19.2</title>
    <updated>2024-03-07T04:09:39-05:00</updated>
    <author>
      <name>NLnetLabs/unbound</name>
    </author>
    <content>&lt;p&gt;Unbound 1.19.2&lt;/p&gt;
&lt;p&gt;This security release fixes CVE-2024-1931.&lt;/p&gt;
&lt;p&gt;NLnet Labs Unbound version 1.18.0 up to and including version 1.19.1
contain a vulnerability that can cause denial of service by a certain
code path that can lead to an infinite loop.&lt;/p&gt;
&lt;p&gt;Unbound 1.18.0 introduced a feature that removes EDE records from
responses with size higher than the client's advertised buffer size.
Before removing all the EDE records however, it would try to see if
trimming the extra text fields on those records would result in an
acceptable size while still retaining the EDE codes.
Due to an unchecked condition, the code that trims the text of the EDE
records could loop indefinitely.
This happens when Unbound would reply with attached EDE information on a
positive reply and the client's buffer size is smaller than the needed
space to include EDE records.&lt;/p&gt;
&lt;p&gt;The vulnerability can only be triggered when the 'ede: yes' option is
used; non default configuration.&lt;/p&gt;
&lt;p&gt;From version 1.19.2 on, the code is fixed to avoid looping indefinitely.&lt;/p&gt;
&lt;p&gt;We would like to thank Fredrik Pettai and Patrik Lundin from SUNET for
notifying us about the issue and working with us to identify the
vulnerability.&lt;/p&gt;
&lt;p&gt;Bug Fixes:
- Fix CVE-2024-1931, Denial of service when trimming EDE text on
  positive replies.&lt;/p&gt;</content>
    <link href="https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.3</id>
    <title>New release for Unbound: Unbound 1.19.3</title>
    <updated>2024-03-14T05:26:00-04:00</updated>
    <author>
      <name>NLnetLabs/unbound</name>
    </author>
    <content>&lt;p&gt;Unbound 1.19.3&lt;/p&gt;
&lt;p&gt;This release has a number of bug fixes. The CNAME synthesized for a
DNAME record uses the original TTL, of the DNAME record, and that means
it can be cached for the TTL, instead of 0.&lt;/p&gt;
&lt;p&gt;There is a fix that when a message was stored in cache, but one of the
RRsets was not updated due to cache policy, it now restricts the message
TTL if the cache version of the RRset has a shorter TTL. It avoids a
bug where the message is not expired, but its contents is expired.&lt;/p&gt;
&lt;p&gt;For dnstap, it logs type DoH and DoT correctly, if that is used for
the message.&lt;/p&gt;
&lt;p&gt;The b.root-servers.net address is updated in the default root hints.&lt;/p&gt;
&lt;p&gt;When performing retries for failed sends, a retry at a smaller UDP size
is now not performed when that attempt is not actually smaller, and at
defaults, since the flag day changes, it is the same size. This makes
it skip the step, it is useless because there is no reduction in size.&lt;/p&gt;
&lt;p&gt;Clients with a valid DNS Cookie will bypass the ratelimit, if one is
set. The value from ip-ratelimit-cookie is used for these queries.&lt;/p&gt;
&lt;p&gt;Furthermore there is a fix to make correct EDE Prohibited answers for
access control denials, and a fix for EDNS client subnet scope zero
answers.&lt;/p&gt;
&lt;p&gt;Features:
- Merge PR #973: Use the origin (DNAME) TTL for synthesized CNAMEs as
  per RFC 6672.&lt;/p&gt;
&lt;p&gt;Bug Fixes:
- Fix unit test parse of origin syntax.
- Use 127.0.0.1 explicitly in tests to avoid delays and errors on
  newer systems.
- Fix #964: config.h.in~ backup file in release tar balls.
- Merge #968: Replace the obsolescent fgrep with grep -F in tests.
- Merge #971: fix 'WARNING: Message has 41 extra bytes at end'.
- Fix #969: [FR] distinguish Do53, DoT and DoH in the logs.
- Fix dnstap that assertion failed on logging other than UDP and TCP
  traffic. It lists it as TCP traffic.
- Fix to sync the tests script file common.sh.
- iana portlist update.
- Updated IPv4 and IPv6 address for b.root-servers.net in root hints.
- Update test script file common.sh.
- Fix tests to use new common.sh functions, wait_logfile and
  kill_from_pidfile.
- Fix #974: doc: default number of outgoing ports without libevent.
- Merge #975: Fixed some syntax errors in rpl files.
- Fix root_zonemd unit test, it checks that the root ZONEMD verifies,
  now that the root has a valid ZONEMD.
- Update example.conf with cookie options.
- Merge #980: DoH: reject non-h2 early. To fix #979: Improve errors
  for non-HTTP/2 DoH clients.
- Merge #985: Add DoH and DoT to dnstap message.
- Fix #983: Sha1 runtime insecure change was incomplete.
- Remove unneeded newlines and improve indentation in remote control
  code.
- Merge #987: skip edns frag retry if advertised udp payload size is
  not smaller.
- Fix unit test for #987 change in udp1xxx retry packet send.
- Merge #988: Fix NLnetLabs#981: dump_cache truncates large records.
- Fix to link with -lcrypt32 for OpenSSL 3.2.0 on Windows.
- Fix to link with libssp for libcrypto and getaddrinfo check for
  only header. Also update crosscompile to remove ssp for 32bit.
- Merge #993: Update b.root-servers.net also in example config file.
- Update workflow for ports to use newer openssl on windows compile.
- Fix warning for windres on resource files due to redefinition.
- Fix for #997: Print details for SSL certificate failure.
- Update error printout for duplicate trust anchors to include the
  trust anchor name (relates to #920).
- Update message TTL when using cached RRSETs. It could result in
  non-expired messages with expired RRSETs (non-usable messages by
  Unbound).
- Merge #999: Search for protobuf-c with pkg-config.
- Fix #1006: Can't find protobuf-c package since #999.
- Fix documentation for access-control in the unbound.conf man page.
- Merge #1010: Mention REFUSED has the TC bit set with unmatched
  allow_cookie acl in the manpage. It also fixes the code to match the
  documentation about clients with a valid cookie that bypass the
  ratelimit regardless of the allow_cookie acl.
- Document the suspend argument for process_ds_response().
- Move github workflows to use checkoutv4.
- Fix edns subnet replies for scope zero answers to not get stored
  in the global cache, and in cachedb, when the upstream replies
  without an EDNS record.
- Fix for #1022: Fix ede prohibited in access control refused answers.
- Fix unbound-control-setup.cmd to use 3072 bits so that certificates
  are long enough for newer OpenSSL versions.
- Fix TTL of synthesized CNAME when a DNAME is used from cache.
- Fix unbound-control-setup.cmd to have CA v3 basicConstraints,
  like unbound-control-setup.sh has.&lt;/p&gt;</content>
    <link href="https://github.com/NLnetLabs/unbound/releases/tag/release-1.19.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/NLnetLabs/unbound/releases/tag/release-1.20.0</id>
    <title>New release for Unbound: Unbound 1.20.0</title>
    <updated>2024-05-08T05:06:15-04:00</updated>
    <author>
      <name>NLnetLabs/unbound</name>
    </author>
    <content>&lt;p&gt;Unbound 1.20.0&lt;/p&gt;
&lt;p&gt;This release has a fix for the DNSBomb issue CVE-2024-33655. This has a
low severity for Unbound, since it makes Unbound complicit in targeting
others, but does not affect Unbound so much.&lt;/p&gt;
&lt;p&gt;To mitigate the issue new configuration options are introduced.
The options &lt;code&gt;discard-timeout: 1900&lt;/code&gt;, &lt;code&gt;wait-limit: 1000&lt;/code&gt;
and &lt;code&gt;wait-limit-cookie: 10000&lt;/code&gt; are enabled by default. They limit the
number of outstanding queries that a querier can have. This limits
the reply pulse, and make Unbound less favorable for the issue.
With the config &lt;code&gt;wait-limit-netblock&lt;/code&gt; and &lt;code&gt;wait-limit-cookie-netblock&lt;/code&gt;
the parameters can be fine tuned for specific destinations.
More information on the attack and Unbound's mitigations are
presented further down.&lt;/p&gt;
&lt;p&gt;Other fixes in this release are that Unbound no longer follows symlinks
when truncating the pidfile. Unbound also does not chown the pidfile,
this is for safety reasons. There are also a number of fixes for RPZ, in
handling CNAMEs. There is a memory leak fix for the edns client subnet
cache. For DNSSEC validation a case is fixed when the query is of type
DNAME. The unbound-anchor program is fixed to first write to a temporary
file, before replacing the original. This handles disk full situations,
and because of it unbound-anchor needs permission to create that file,
in the same directory as the original file. There is also a fix for
IP_DONTFRAG, to disable fragmentation instead of the opposite.&lt;/p&gt;
&lt;p&gt;The option &lt;code&gt;cache-min-negative-ttl&lt;/code&gt; can be used to set the minimum TTL
for negative responses in the cache. It complements existing options to
set the maximum ttl for negative responses and to set the minimum and
maximum ttl but not specifically for negative responses.&lt;/p&gt;
&lt;p&gt;The option &lt;code&gt;cachedb-check-when-serve-expired&lt;/code&gt; option makes Unbound use
cachedb to check for expired responses, when &lt;code&gt;serve-expired&lt;/code&gt; is enabled,
and cachedb is used. It is enabled by default.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;-q&lt;/code&gt; option for unbound-checkconf can be added to silence it when
there are no errors.&lt;/p&gt;
&lt;p&gt;The DNSBomb vulnerability CVE-2024-33655.&lt;/p&gt;
&lt;p&gt;== Summary
The DNSBomb attack, via specially timed DNS queries and answers, can
cause a Denial of Service on resolvers and spoofed targets.&lt;/p&gt;
&lt;p&gt;Unbound itself is not vulnerable for DoS, rather it can be used to take
part in a pulsing DoS amplification attack.&lt;/p&gt;
&lt;p&gt;Unbound 1.20.0 includes fixes so the impact of the DoS from Unbound
is significantly lower than it used to be and making the attack, and
Unbound's participation, less tempting for attackers.&lt;/p&gt;
&lt;p&gt;== Affected products
Unbound up to and including 1.19.3.&lt;/p&gt;
&lt;p&gt;== Description
The DNSBomb attack works by sending low-rate spoofed queries for a
malicious zone to Unbound. By controlling the delay of the malicious
authoritative answers, Unbound slowly accumulates pending answers for
the spoofed addresses. When the authoritative answers become available
to Unbound at the same time, Unbound starts serving all the accumulated
queries. This results into large-sized, concentrated response bursts to
the spoofed addresses.&lt;/p&gt;
&lt;p&gt;From version 1.20.0 on, Unbound introduces a couple of configuration
options to help mitigate the impact.
Their complete description can be found in the included manpages but
they are also briefly listed here together with their default values for
convenience:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;discard-timeout: 1900
  After 1900 ms a reply to the client will be dropped.
  Unbound would still work on the query but refrain from replying in
  order to not accumulate a huge number of "old" replies.
  Legitimate clients retry on timeouts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wait-limit: 1000
  wait-limit-cookie: 10000
  Limits the amount of client queries that require recursion
  (cache-hits are not counted) per IP address. More recursive queries
  than the allowed limit are dropped. Clients with a valid EDNS Cookie
  can have a different limit, higher by default.
  wait-limit: 0 disables all wait limits.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wait-limit-netblock
  wait-limit-cookie-netblock
  These do not have a default value but they can fine grain
  configuration for specific netblocks. With or without EDNS Cookies.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The options above are trying to shrink the DNSBomb window so that the
impact of the DoS from Unbound is significantly lower than it used to be
and making the attack, and Unbound's participation, less tempting for
attackers.&lt;/p&gt;
&lt;p&gt;== Acknowledgements
We would like to thank Xiang Li from the Network and Information
Security Lab of Tsinghua University for discovering and disclosing the
attack.&lt;/p&gt;
&lt;p&gt;Features
- The config for discard-timeout, wait-limit, wait-limit-cookie,
  wait-limit-netblock and wait-limit-cookie-netblock was added, for
  the fix to the DNSBomb issue.
- Merge #1027: Introduce 'cache-min-negative-ttl' option.
- Merge #1043 from xiaoxiaoafeifei: Add loongarch support; updates
  config.guess(2024-01-01) and config.sub(2024-01-01), verified
  with upstream.
- Implement cachedb-check-when-serve-expired: yes option, default
  is enabled. When serve expired is enabled with cachedb, it first
  checks cachedb before serving the expired response.
- Fix #876: [FR] can unbound-checkconf be silenced when configuration
  is valid?&lt;/p&gt;
&lt;p&gt;Bug Fixes
- Fix for the DNSBomb vulnerability CVE-2024-33655. Thanks to Xiang Li
  from the Network and Information Security Lab of Tsinghua University
  for reporting it.
- Update doc/unbound.doxygen with 'doxygen -u'. Fixes option
  deprecation warnings and updates with newer defaults.
- Remove unused portion from iter_dname_ttl unit test.
- Fix validator classification of qtype DNAME for positive and
  redirection answers, and fix validator signature routine for dealing
  with the synthesized CNAME for a DNAME without previously
  encountering it and also for when the qtype is DNAME.
- Fix qname minimisation for reply with a DNAME for qtype CNAME that
  answers it.
- Fix doc test so it ignores but outputs unsupported doxygen options.
- Fix #1021 Inconsistent Behavior with Changing rpz-cname-override
  and doing a unbound-control reload.
- Merge #1028: Clearer documentation for tcp-idle-timeout and
  edns-tcp-keepalive-timeout.
- Fix #1029: rpz trigger clientip and action rpz-passthru not working
  as expected.
- Fix rpz that the rpz override is taken in case of clientip triggers.
  Fix that the clientip passthru action is logged. Fix that the
  clientip localdata action is logged. Fix rpz override action cname
  for the clientip trigger.
- Fix to unify codepath for local alias for rpz cname action override.
- Fix rpz for cname override action after nsdname and nsip triggers.
- Fix that addrinfo is not kept around but copied and freed, so that
  log-destaddr uses a copy of the information, much like NSD does.
- Merge #1030: Persist the openssl and expat directories for repeated
  Windows builds.
- Fix that rpz CNAME content is limited to the max number of cnames.
- Fix rpz, it follows iterator CNAMEs for nsip and nsdname and sets
  the reply query_info values, that is better for debug logging.
- Fix rpz that copies the cname override completely to the temp
  region, so there are no references to the rpz region.
- Add rpz unit test for nsip action override.
- Fix rpz for qtype CNAME after nameserver trigger.
- Fix rpz so that rpz CNAME can apply after rpz CNAME. And fix that
  clientip and nsip can give a CNAME.
- Fix localdata and rpz localdata to match CNAME only if no direct
  type match is available.
- Merge #831 from Pierre4012: Improve Windows NSIS installer
  script (setup.nsi).
- For #831: Format text, use exclamation icon and explicit label
  names.
- Fix name of unit test for subnet cache response.
- Fix #1032: The size of subnet_msg_cache calculation mistake cause
  memory usage increased beyond expectations.
- Fix for #1032, add safeguard to make table space positive.
- Fix comment in lruhash space function.
- Fix to add unit test for lruhash space that exercises the routines.
- Fix that when the server truncates the pidfile, it does not follow
  symbolic links.
- Fix that the server does not chown the pidfile.
- Fix #1034: DoT forward-zone via unbound-control.
- Fix for crypto related failures to have a better error string.
- Fix #1035: Potential Bug while parsing port from the "stub-host"
  string; also affected forward-zones and remote-control host
  directives.
- Fix #369: dnstap showing extra responses; for client responses
  right from the cache when replying with expired data or
  prefetching.
- Fix #1040: fix heap-buffer-overflow issue in function cfg_mark_ports
  of file util/config_file.c.
- For #1040: adjust error text and disallow negative ports in other
  parts of cfg_mark_ports.
- Fix comment syntax for view function views_find_view.
- Fix #595: unbound-anchor cannot deal with full disk; it will now
  first write out to a temp file before replacing the original one,
  like Unbound already does for auto-trust-anchor-file.
- Fixup compile without cachedb.
- Add test for cachedb serve expired.
- Extended test for cachedb serve expired.
- Fix makefile dependencies for fake_event.c.
- Fix cachedb for serve-expired with serve-expired-reply-ttl.
- Fix to not reply serve expired unless enabled for cachedb.
- Fix cachedb for serve-expired with serve-expired-client-timeout.
- Fixup unit test for cachedb server expired client timeout with
  a check if response if from upstream or from cachedb.
- Fixup cachedb to not refetch when serve-expired-client-timeout is
  used.
- Merge #1049 from Petr Menšík: Py_NoSiteFlag is not needed since
  Python 3.8
- Fix #1048: Update ax_pkg_swig.m4 and ax_pthread.m4.
- Fix configure, autoconf for #1048.
- Add checklock feature verbose_locking to trace locks and unlocks.
- Fix edns subnet to sort rrset references when storing messages
  in the cache. This fixes a race condition in the rrset locks.
- Merge #1053: Remove child delegations from cache when grandchild
  delegations are returned from parent.
- Fix ci workflow for macos for moved install locations.
- Fix configure flto check error, by finding grep for it.
- Merge #1041: Stub and Forward unshare. This has one structure
  for them and fixes #1038: fatal error: Could not initialize
  thread / error: reading root hints.
- Fix to disable fragmentation on systems with IP_DONTFRAG,
  with a nonzero value for the socket option argument.
- Fix doc unit test for out of directory build.
- Fix cachedb with serve-expired-client-timeout disabled. The edns
  subnet module deletes global cache and cachedb cache when it
  stores a result, and serve-expired is enabled, so that the global
  reply, that is older than the ecs reply, does not return after
  the ecs reply expires.
- Add unit tests for cachedb and subnet cache expired data.
- Man page entry for unbound-checkconf -q.
- Cleanup unnecessary strdup calls for EDE strings.
- Fix doxygen comment for errinf_to_str_bogus.&lt;/p&gt;</content>
    <link href="https://github.com/NLnetLabs/unbound/releases/tag/release-1.20.0" rel="alternate"/>
  </entry>
</feed>
