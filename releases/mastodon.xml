<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Mastodon Releases</title>
  <updated>2024-08-26T21:30:43.089611-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.1.18</id>
    <title>New release for Mastodon: v4.1.18</title>
    <updated>2024-07-04T11:10:03-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release is an important security release fixing a major security issue.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A corresponding security release is available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.10"&gt;4.2.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix incorrect permission checking on multiple API endpoints (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-58x8-3qxw-6hm7"&gt;GHSA-58x8-3qxw-6hm7&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix incorrect authorship checking when processing some activities (CVE-2024-37903, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-xjvf-fm67-4qc3"&gt;GHSA-xjvf-fm67-4qc3&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix ongoing streaming sessions not being invalidated when application tokens get revoked (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-vp5r-5pgw-jwqx"&gt;GHSA-vp5r-5pgw-jwqx&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change preview cards generation to skip unusually long URLs (&lt;a href="https://github.com/mastodon/mastodon/pull/30854"&gt;oneiros&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change search modifiers to be case-insensitive (&lt;a href="https://github.com/mastodon/mastodon/pull/30865"&gt;Gargron&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;STATSD_ADDR&lt;/code&gt; handling to emit a warning rather than crashing if the address is unreachable (&lt;a href="https://github.com/mastodon/mastodon/pull/30691"&gt;timothyjrogers&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change PWA start URL from &lt;code&gt;/home&lt;/code&gt; to &lt;code&gt;/&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/27377"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix scheduled statuses scheduled in less than 5 minutes being immediately published (&lt;a href="https://github.com/mastodon/mastodon/pull/30584"&gt;danielmbrasil&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix encoding detection for link cards (&lt;a href="https://github.com/mastodon/mastodon/pull/30780"&gt;oneiros&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;/admin/accounts/:account_id/statuses/:id&lt;/code&gt; for edited posts with media attachments (&lt;a href="https://github.com/mastodon/mastodon/pull/30819"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.1.18, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.1.18&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.1.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.1.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.1.17.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.1.18" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.10</id>
    <title>New release for Mastodon: v4.2.10</title>
    <updated>2024-07-04T11:03:18-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release is an important security release fixing a major security issue.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A corresponding security release is available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.18"&gt;4.1.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
If you are using nightly builds, &lt;strong&gt;do not use this release&lt;/strong&gt; but update to &lt;code&gt;nightly.2024-07-05-security&lt;/code&gt; or newer instead. If you are on the &lt;code&gt;main&lt;/code&gt; branch, update to the latest commit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix incorrect permission checking on multiple API endpoints (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-58x8-3qxw-6hm7"&gt;GHSA-58x8-3qxw-6hm7&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix incorrect authorship checking when processing some activities (CVE-2024-37903, &lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-xjvf-fm67-4qc3"&gt;GHSA-xjvf-fm67-4qc3&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix ongoing streaming sessions not being invalidated when application tokens get revoked (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-vp5r-5pgw-jwqx"&gt;GHSA-vp5r-5pgw-jwqx&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Update dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add yarn version specification to avoid confusion with Yarn 3 and Yarn 4&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change preview cards generation to skip unusually long URLs (&lt;a href="https://github.com/mastodon/mastodon/pull/30854"&gt;oneiros&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change search modifiers to be case-insensitive (&lt;a href="https://github.com/mastodon/mastodon/pull/30865"&gt;Gargron&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change &lt;code&gt;STATSD_ADDR&lt;/code&gt; handling to emit a warning rather than crashing if the address is unreachable (&lt;a href="https://github.com/mastodon/mastodon/pull/30691"&gt;timothyjrogers&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Change PWA start URL from &lt;code&gt;/home&lt;/code&gt; to &lt;code&gt;/&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/27377"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Removed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Removed dependency on &lt;code&gt;posix-spawn&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/18559"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix scheduled statuses scheduled in less than 5 minutes being immediately published (&lt;a href="https://github.com/mastodon/mastodon/pull/30584"&gt;danielmbrasil&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix encoding detection for link cards (&lt;a href="https://github.com/mastodon/mastodon/pull/30780"&gt;oneiros&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;/admin/accounts/:account_id/statuses/:id&lt;/code&gt; for edited posts with media attachments (&lt;a href="https://github.com/mastodon/mastodon/pull/30819"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix duplicate &lt;code&gt;@context&lt;/code&gt; attribute in user archive export (&lt;a href="https://github.com/mastodon/mastodon/pull/30653"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.10, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.10&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.9.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.10" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.1.19</id>
    <title>New release for Mastodon: v4.1.19</title>
    <updated>2024-08-16T08:39:27-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix incorrect rate limit on PUT requests (&lt;a href="https://github.com/mastodon/mastodon/pull/31356"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix presence of &lt;code&gt;ß&lt;/code&gt; in adjacent word preventing mention and hashtag matching (&lt;a href="https://github.com/mastodon/mastodon/pull/31122"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix processing of webfinger responses with multiple &lt;code&gt;self&lt;/code&gt; links (&lt;a href="https://github.com/mastodon/mastodon/pull/31110"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix status processing failing halfway when a remote post has a malformed &lt;code&gt;replies&lt;/code&gt; attribute (&lt;a href="https://github.com/mastodon/mastodon/pull/31246"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix division by zero on some video/GIF files (&lt;a href="https://github.com/mastodon/mastodon/pull/30600"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix hashtag regexp matching some link anchors (&lt;a href="https://github.com/mastodon/mastodon/pull/30190"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix local account search on LDAP login being case-sensitive (&lt;a href="https://github.com/mastodon/mastodon/pull/30113"&gt;raucao&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix development environment admin account not being auto-approved (&lt;a href="https://github.com/mastodon/mastodon/pull/29958"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix report reason selector in moderation interface not unselecting rules when changing category (&lt;a href="https://github.com/mastodon/mastodon/pull/29026"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix already-invalid reports failing to resolve (&lt;a href="https://github.com/mastodon/mastodon/pull/29027"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix OCR when using S3/CDN for assets (&lt;a href="https://github.com/mastodon/mastodon/pull/28551"&gt;vmstan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix error when encountering malformed &lt;code&gt;Tag&lt;/code&gt; objects from Kbin (&lt;a href="https://github.com/mastodon/mastodon/pull/28235"&gt;ShadowJonathan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix not all allowed image formats showing in file picker when uploading custom emoji (&lt;a href="https://github.com/mastodon/mastodon/pull/28076"&gt;june128&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.1.19, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.1.19&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.1.18, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.1.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.1.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.1.18.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.1.19" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.11</id>
    <title>New release for Mastodon: v4.2.11</title>
    <updated>2024-08-16T08:39:47-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
This release has a known issue, causing mentions from local users with elevated roles failing to generate notifications.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add support for incoming &lt;code&gt;&amp;lt;s&amp;gt;&lt;/code&gt; tag (&lt;a href="https://github.com/mastodon/mastodon/pull/31375"&gt;mediaformat&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change logic of block/mute bypass for mentions from moderators to only apply to visible roles with moderation powers (&lt;a href="https://github.com/mastodon/mastodon/pull/31271"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix incorrect rate limit on PUT requests (&lt;a href="https://github.com/mastodon/mastodon/pull/31356"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix presence of &lt;code&gt;ß&lt;/code&gt; in adjacent word preventing mention and hashtag matching (&lt;a href="https://github.com/mastodon/mastodon/pull/31122"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix processing of webfinger responses with multiple &lt;code&gt;self&lt;/code&gt; links (&lt;a href="https://github.com/mastodon/mastodon/pull/31110"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix duplicate &lt;code&gt;orderedItems&lt;/code&gt; in user archive's &lt;code&gt;outbox.json&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/31099"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix click event handling when clicking outside of an open dropdown menu (&lt;a href="https://github.com/mastodon/mastodon/pull/31251"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix status processing failing halfway when a remote post has a malformed &lt;code&gt;replies&lt;/code&gt; attribute (&lt;a href="https://github.com/mastodon/mastodon/pull/31246"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;--verbose&lt;/code&gt; option of &lt;code&gt;tootctl media remove&lt;/code&gt;, which was previously erroneously removed (&lt;a href="https://github.com/mastodon/mastodon/pull/30536"&gt;mjankowski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix division by zero on some video/GIF files (&lt;a href="https://github.com/mastodon/mastodon/pull/30600"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix Web UI trying to save user settings despite being logged out (&lt;a href="https://github.com/mastodon/mastodon/pull/30324"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix hashtag regexp matching some link anchors (&lt;a href="https://github.com/mastodon/mastodon/pull/30190"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix local account search on LDAP login being case-sensitive (&lt;a href="https://github.com/mastodon/mastodon/pull/30113"&gt;raucao&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix development environment admin account not being auto-approved (&lt;a href="https://github.com/mastodon/mastodon/pull/29958"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix report reason selector in moderation interface not unselecting rules when changing category (&lt;a href="https://github.com/mastodon/mastodon/pull/29026"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix already-invalid reports failing to resolve (&lt;a href="https://github.com/mastodon/mastodon/pull/29027"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix OCR when using S3/CDN for assets (&lt;a href="https://github.com/mastodon/mastodon/pull/28551"&gt;vmstan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix error when encountering malformed &lt;code&gt;Tag&lt;/code&gt; objects from Kbin (&lt;a href="https://github.com/mastodon/mastodon/pull/28235"&gt;ShadowJonathan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix not all allowed image formats showing in file picker when uploading custom emoji (&lt;a href="https://github.com/mastodon/mastodon/pull/28076"&gt;june128&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix search popout listing unusable search options when logged out (&lt;a href="https://github.com/mastodon/mastodon/pull/27918"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix processing of featured collections lacking an &lt;code&gt;items&lt;/code&gt; attribute (&lt;a href="https://github.com/mastodon/mastodon/pull/27581"&gt;tribela&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;mastodon:stats&lt;/code&gt; decoration of stats rake task (&lt;a href="https://github.com/mastodon/mastodon/pull/31104"&gt;mjankowski&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.11, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.11&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.2.10, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.10.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.11" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.12</id>
    <title>New release for Mastodon: v4.2.12</title>
    <updated>2024-08-19T05:18:03-04:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
This is a hotfix release for an issue introduced in 4.2.11.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog (v4.2.12)&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix broken notifications for mentions from local moderators (&lt;a href="https://github.com/mastodon/mastodon/pull/31484"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Changelog (v4.2.11)&lt;/h2&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add support for incoming &lt;code&gt;&amp;lt;s&amp;gt;&lt;/code&gt; tag (&lt;a href="https://github.com/mastodon/mastodon/pull/31375"&gt;mediaformat&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change logic of block/mute bypass for mentions from moderators to only apply to visible roles with moderation powers (&lt;a href="https://github.com/mastodon/mastodon/pull/31271"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix incorrect rate limit on PUT requests (&lt;a href="https://github.com/mastodon/mastodon/pull/31356"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix presence of &lt;code&gt;ß&lt;/code&gt; in adjacent word preventing mention and hashtag matching (&lt;a href="https://github.com/mastodon/mastodon/pull/31122"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix processing of webfinger responses with multiple &lt;code&gt;self&lt;/code&gt; links (&lt;a href="https://github.com/mastodon/mastodon/pull/31110"&gt;adamniedzielski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix duplicate &lt;code&gt;orderedItems&lt;/code&gt; in user archive's &lt;code&gt;outbox.json&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/31099"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix click event handling when clicking outside of an open dropdown menu (&lt;a href="https://github.com/mastodon/mastodon/pull/31251"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix status processing failing halfway when a remote post has a malformed &lt;code&gt;replies&lt;/code&gt; attribute (&lt;a href="https://github.com/mastodon/mastodon/pull/31246"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;--verbose&lt;/code&gt; option of &lt;code&gt;tootctl media remove&lt;/code&gt;, which was previously erroneously removed (&lt;a href="https://github.com/mastodon/mastodon/pull/30536"&gt;mjankowski&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix division by zero on some video/GIF files (&lt;a href="https://github.com/mastodon/mastodon/pull/30600"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix Web UI trying to save user settings despite being logged out (&lt;a href="https://github.com/mastodon/mastodon/pull/30324"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix hashtag regexp matching some link anchors (&lt;a href="https://github.com/mastodon/mastodon/pull/30190"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix local account search on LDAP login being case-sensitive (&lt;a href="https://github.com/mastodon/mastodon/pull/30113"&gt;raucao&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix development environment admin account not being auto-approved (&lt;a href="https://github.com/mastodon/mastodon/pull/29958"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix report reason selector in moderation interface not unselecting rules when changing category (&lt;a href="https://github.com/mastodon/mastodon/pull/29026"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix already-invalid reports failing to resolve (&lt;a href="https://github.com/mastodon/mastodon/pull/29027"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix OCR when using S3/CDN for assets (&lt;a href="https://github.com/mastodon/mastodon/pull/28551"&gt;vmstan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix error when encountering malformed &lt;code&gt;Tag&lt;/code&gt; objects from Kbin (&lt;a href="https://github.com/mastodon/mastodon/pull/28235"&gt;ShadowJonathan&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix not all allowed image formats showing in file picker when uploading custom emoji (&lt;a href="https://github.com/mastodon/mastodon/pull/28076"&gt;june128&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix search popout listing unusable search options when logged out (&lt;a href="https://github.com/mastodon/mastodon/pull/27918"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix processing of featured collections lacking an &lt;code&gt;items&lt;/code&gt; attribute (&lt;a href="https://github.com/mastodon/mastodon/pull/27581"&gt;tribela&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix &lt;code&gt;mastodon:stats&lt;/code&gt; decoration of stats rake task (&lt;a href="https://github.com/mastodon/mastodon/pull/31104"&gt;mjankowski&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.12, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.12&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[!IMPORTANT]
Since v4.2.10, Mastodon is now performing stricter checks to prevent client IP address spoofing. This means that if one of your reverse proxy is not on Mastodon's local network, you will need to set &lt;code&gt;TRUSTED_PROXY_IP&lt;/code&gt; accordingly, listing the IP address of every trusted reverse-proxy (including local network ones). See &lt;a href="https://docs.joinmastodon.org/admin/config/#trusted_proxy_ip"&gt;the documentation&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
The &lt;code&gt;charlock_holmes&lt;/code&gt; gem may fail to build on some systems with recent versions of &lt;code&gt;gcc&lt;/code&gt;.
If you run into such an issue, try &lt;code&gt;BUNDLE_BUILD__CHARLOCK_HOLMES="--with-cxxflags=-std=c++17" bundle install&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following instructions are for updating from 4.2.10 or 4.2.11.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.12" rel="alternate"/>
  </entry>
</feed>
