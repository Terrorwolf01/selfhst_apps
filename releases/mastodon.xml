<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Mastodon Releases</title>
  <updated>2024-03-28T14:31:00.993809-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.0.15</id>
    <title>New release for Mastodon: v4.0.15</title>
    <updated>2024-02-16T06:29:37-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!CAUTION]
&lt;strong&gt;The 4.0.x branch will not receive any update—including security fixes—after this one.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release is an important security release fixing a major security issue.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding security releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.7"&gt;4.2.x branch&lt;/a&gt;, the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.15"&gt;4.1.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v3.5.19"&gt;3.5.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
If you are using nightly builds, &lt;strong&gt;do not use this release&lt;/strong&gt; but update to &lt;code&gt;nightly.2024-02-17-security&lt;/code&gt; or newer instead. If you are on the &lt;code&gt;main&lt;/code&gt; branch, update to the latest commit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;End of life notice&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;The 4.0.x branch will not receive any further update after this one.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This means that no further security fix will be made available for this branch, and you will need to update to a more recent version (such as the 4.2.x branch) to receive security fixes.&lt;/p&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix OmniAuth tests and edge cases in error handling (&lt;a href="https://github.com/mastodon/mastodon/pull/29201"&gt;ClearlyClaire&lt;/a&gt;, &lt;a href="https://github.com/mastodon/mastodon/pull/29207"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix insufficient checking of remote posts (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-jhrq-qvrm-qr36"&gt;GHSA-jhrq-qvrm-qr36&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.0.15, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.0.15&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.0.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.0.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
If your uploaded images are broken after the upgrade, it means your installed ImageMagick version is older than the new minimum version (6.9.7-7), for example if you are running Ubuntu 18.04. If this happens, you can find more information and ways to fix it &lt;a href="https://github.com/mastodon/mastodon/issues/25776"&gt;on this page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.0.14.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.0.15" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.1.15</id>
    <title>New release for Mastodon: v4.1.15</title>
    <updated>2024-02-16T06:19:15-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release is an important security release fixing a major security issue.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding security releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.7"&gt;4.2.x branch&lt;/a&gt;, the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.0.15"&gt;4.0.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v3.5.19"&gt;3.5.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
If you are using nightly builds, &lt;strong&gt;do not use this release&lt;/strong&gt; but update to &lt;code&gt;nightly.2024-02-17-security&lt;/code&gt; or newer instead. If you are on the &lt;code&gt;main&lt;/code&gt; branch, update to the latest commit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix OmniAuth tests and edge cases in error handling (&lt;a href="https://github.com/mastodon/mastodon/pull/29201"&gt;ClearlyClaire&lt;/a&gt;, &lt;a href="https://github.com/mastodon/mastodon/pull/29207"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix insufficient checking of remote posts (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-jhrq-qvrm-qr36"&gt;GHSA-jhrq-qvrm-qr36&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.1.15, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.1.15&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.1.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.1.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
If your uploaded images are broken after the upgrade, it means your installed ImageMagick version is older than the new minimum version (6.9.7-7), for example if you are running Ubuntu 18.04. If this happens, you can find more information and ways to fix it &lt;a href="https://github.com/mastodon/mastodon/issues/25776"&gt;on this page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.1.14.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.1.15" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.7</id>
    <title>New release for Mastodon: v4.2.7</title>
    <updated>2024-02-16T06:11:36-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;This release is an important security release fixing a major security issue.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Corresponding security releases are available for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.15"&gt;4.1.x branch&lt;/a&gt;, the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.0.15"&gt;4.0.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v3.5.19"&gt;3.5.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[!NOTE]
If you are using nightly builds, &lt;strong&gt;do not use this release&lt;/strong&gt; but update to &lt;code&gt;nightly.2024-02-17-security&lt;/code&gt; or newer instead. If you are on the &lt;code&gt;main&lt;/code&gt; branch, update to the latest commit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix OmniAuth tests and edge cases in error handling (&lt;a href="https://github.com/mastodon/mastodon/pull/29201"&gt;ClearlyClaire&lt;/a&gt;, &lt;a href="https://github.com/mastodon/mastodon/pull/29207"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix new installs by upgrading to the latest release of the &lt;code&gt;nsa&lt;/code&gt; gem, instead of a no longer existing commit (&lt;a href="https://github.com/mastodon/mastodon/pull/29065"&gt;mjankowski&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Security&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix insufficient checking of remote posts (&lt;a href="https://github.com/mastodon/mastodon/security/advisories/GHSA-jhrq-qvrm-qr36"&gt;GHSA-jhrq-qvrm-qr36&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.7, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.7&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;[!TIP]
If your uploaded images are broken after the upgrade, it means your installed ImageMagick version is older than the new minimum version (6.9.7-7), for example if you are running Ubuntu 18.04. If this happens, you can find more information and ways to fix it &lt;a href="https://github.com/mastodon/mastodon/issues/25776"&gt;on this page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.2.6.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.7" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.1.16</id>
    <title>New release for Mastodon: v4.1.16</title>
    <updated>2024-02-23T08:45:27-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;We recently released important security updates fixing major security updates. If you are using Mastodon v4.2.6 or below, v4.1.14 or below, or any older version, please update as soon as possible.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See updates for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.2.7"&gt;4.2.x branch&lt;/a&gt;, the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.0.15"&gt;4.0.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v3.5.19"&gt;3.5.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
&lt;strong&gt;This update changes registrations to be closed by default.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Running a social media platform where anyone can sign up without active moderation is dangerous.&lt;/p&gt;
&lt;p&gt;We are changing the default, so that opening registrations is always a conscious choice. If you have never changed or saved the registrations mode yourself, this update will switch your server to not accepting new users. Simply change the setting again after the update if you wish to restore the old behaviour.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add hourly task to automatically require approval for new registrations in the absence of moderators (&lt;a href="https://github.com/mastodon/mastodon/pull/29318"&gt;ClearlyClaire&lt;/a&gt;, &lt;a href="https://github.com/mastodon/mastodon/pull/29355"&gt;ClearlyClaire&lt;/a&gt;)
  In order to prevent future abandoned Mastodon servers from being used for spam, harassment and other malicious activity, Mastodon will now automatically switch new user registrations to require moderator approval whenever they are left open and no activity (including non-moderation actions from apps) from any logged-in user with permission to access moderation reports has been detected in a full week.
  When this happens, users with the permission to change server settings will receive an email notification.
  This feature is disabled when &lt;code&gt;EMAIL_DOMAIN_ALLOWLIST&lt;/code&gt; is used, and can also be disabled with &lt;code&gt;DISABLE_AUTOMATIC_SWITCHING_TO_APPROVED_REGISTRATIONS=true&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change registrations to be closed by default on new installations (&lt;a href="https://github.com/mastodon/mastodon/pull/29280"&gt;ClearlyClaire&lt;/a&gt;)
  If you are running a server and never changed your registrations mode from the default, updating will automatically close your registrations.
  Simply re-enable them through the administration interface or using &lt;code&gt;tootctl settings registrations open&lt;/code&gt; if you want to enable them again.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix processing of remote ActivityPub actors making use of &lt;code&gt;Link&lt;/code&gt; objects as &lt;code&gt;Image&lt;/code&gt; &lt;code&gt;url&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/29335"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix link verifications when page size exceeds 1MB (&lt;a href="https://github.com/mastodon/mastodon/pull/29358"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Moderation tooling&lt;/h2&gt;
&lt;p&gt;While we work on better tools to fight spam and abuse, we want to draw your attention to the tools already at your disposal:
- Manual review for new user registrations
- &lt;a href="https://docs.joinmastodon.org/admin/moderation/#blocking-by-e-mail-server"&gt;Blocking disposable/temporary e-mail providers&lt;/a&gt; (such as &lt;code&gt;any.pink&lt;/code&gt; being used in the current wave)
- &lt;a href="https://docs.joinmastodon.org/admin/optional/captcha/"&gt;Setting up hCaptcha&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Known issues&lt;/h2&gt;
&lt;p&gt;When setting up a new server, the admin account created by the &lt;code&gt;mastodon:setup&lt;/code&gt; task will not be automatically approved. You will need to approve it from the command-line interface with &lt;code&gt;tootctl modify &amp;lt;username&amp;gt; --approved&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.1.16, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.1.16&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
The minimum required Ruby version has been bumped to 3.0 in Mastodon v4.1.14.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;External dependencies have not changed compared to v4.1.14, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0&lt;/li&gt;
&lt;li&gt;PostgreSQL: 9.5 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (optional, for full-text search): 7.x&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: &amp;gt;= 14, &amp;lt; 18&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.1.15.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Both Docker and non-Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.1.16" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/mastodon/mastodon/releases/tag/v4.2.8</id>
    <title>New release for Mastodon: v4.2.8</title>
    <updated>2024-02-23T08:45:12-05:00</updated>
    <author>
      <name>mastodon/mastodon</name>
    </author>
    <content>&lt;h1&gt;&lt;picture&gt;
  &lt;source media="(prefers-color-scheme: dark)" srcset="./lib/assets/wordmark.dark.png?raw=true"&gt;
  &lt;source media="(prefers-color-scheme: light)" srcset="./lib/assets/wordmark.light.png?raw=true"&gt;
  &lt;img alt="Mastodon" src="./lib/assets/wordmark.light.png?raw=true" height="34"&gt;
&lt;/picture&gt;&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;[!WARNING]
&lt;strong&gt;We recently released important security updates fixing major security updates. If you are using Mastodon v4.2.6 or below, v4.1.14 or below, or any older version, please update as soon as possible.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See updates for the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.15"&gt;4.1.x branch&lt;/a&gt;, the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.0.15"&gt;4.0.x branch&lt;/a&gt; and the &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v3.5.19"&gt;3.5.x branch&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Changelog&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;[!IMPORTANT]
&lt;strong&gt;This update changes registrations to be closed by default.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Running a social media platform where anyone can sign up without active moderation is dangerous.&lt;/p&gt;
&lt;p&gt;We are changing the default, so that opening registrations is always a conscious choice. If you have never changed or saved the registrations mode yourself, this update will switch your server to not accepting new users. Simply change the setting again after the update if you wish to restore the old behaviour.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add hourly task to automatically require approval for new registrations in the absence of moderators (&lt;a href="https://github.com/mastodon/mastodon/pull/29318"&gt;ClearlyClaire&lt;/a&gt;, &lt;a href="https://github.com/mastodon/mastodon/pull/29355"&gt;ClearlyClaire&lt;/a&gt;)
  In order to prevent future abandoned Mastodon servers from being used for spam, harassment and other malicious activity, Mastodon will now automatically switch new user registrations to require moderator approval whenever they are left open and no activity (including non-moderation actions from apps) from any logged-in user with permission to access moderation reports has been detected in a full week.
  When this happens, users with the permission to change server settings will receive an email notification.
  This feature is disabled when &lt;code&gt;EMAIL_DOMAIN_ALLOWLIST&lt;/code&gt; is used, and can also be disabled with &lt;code&gt;DISABLE_AUTOMATIC_SWITCHING_TO_APPROVED_REGISTRATIONS=true&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Change registrations to be closed by default on new installations (&lt;a href="https://github.com/mastodon/mastodon/pull/29280"&gt;ClearlyClaire&lt;/a&gt;)
  If you are running a server and never changed your registrations mode from the default, updating will automatically close your registrations.
  Simply re-enable them through the administration interface or using &lt;code&gt;tootctl settings registrations open&lt;/code&gt; if you want to enable them again.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fixed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix processing of remote ActivityPub actors making use of &lt;code&gt;Link&lt;/code&gt; objects as &lt;code&gt;Image&lt;/code&gt; &lt;code&gt;url&lt;/code&gt; (&lt;a href="https://github.com/mastodon/mastodon/pull/29335"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Fix link verifications when page size exceeds 1MB (&lt;a href="https://github.com/mastodon/mastodon/pull/29358"&gt;ClearlyClaire&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Moderation tooling&lt;/h2&gt;
&lt;p&gt;While we work on better tools to fight spam and abuse, we want to draw your attention to the tools already at your disposal:
- Manual review for new user registrations
- &lt;a href="https://docs.joinmastodon.org/admin/moderation/#blocking-by-e-mail-server"&gt;Blocking disposable/temporary e-mail providers&lt;/a&gt; (such as &lt;code&gt;any.pink&lt;/code&gt; being used in the current wave)
- &lt;a href="https://docs.joinmastodon.org/admin/optional/captcha/"&gt;Setting up hCaptcha&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Known issues&lt;/h2&gt;
&lt;p&gt;When setting up a new server, the admin account created by the &lt;code&gt;mastodon:setup&lt;/code&gt; task will not be automatically approved. You will need to approve it from the command-line interface with &lt;code&gt;tootctl modify &amp;lt;username&amp;gt; --approved&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Upgrade notes&lt;/h2&gt;
&lt;p&gt;To get the code for v4.2.8, use &lt;code&gt;git fetch &amp;amp;&amp;amp; git checkout v4.2.8&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]
As always, &lt;strong&gt;make sure you have backups of the database before performing any upgrades&lt;/strong&gt;. If you are using docker-compose, this is how a backup command might look: &lt;code&gt;docker exec mastodon_db_1 pg_dump -Fc -U postgres postgres &amp;gt; name_of_the_backup.dump&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Dependencies&lt;/h3&gt;
&lt;p&gt;With the exception of Ruby's recommended version, external dependencies have not changed since v4.2.0, the compatible Ruby, PostgreSQL, Node, Elasticsearch and Redis versions are the same, that is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruby: 3.0 to 3.2&lt;/li&gt;
&lt;li&gt;PostgreSQL: 10 or newer&lt;/li&gt;
&lt;li&gt;Elasticsearch (recommended, for full-text search): 7.x (OpenSearch should also work)&lt;/li&gt;
&lt;li&gt;LibreTranslate (optional, for translations): 1.3.3 or newer&lt;/li&gt;
&lt;li&gt;Redis: 4 or newer&lt;/li&gt;
&lt;li&gt;Node: 16 or newer&lt;/li&gt;
&lt;li&gt;ImageMagick: 6.9.7-7 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Update steps&lt;/h3&gt;
&lt;p&gt;The following instructions are for updating from 4.2.7.&lt;/p&gt;
&lt;p&gt;If you are upgrading directly from an earlier release, please carefully read the upgrade notes for the skipped releases as well, as they often require extra steps such as database migrations.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Non-Docker only:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install dependencies: &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile the assets: &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Using Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Restart all Mastodon processes&lt;/li&gt;
&lt;/ol&gt;</content>
    <link href="https://github.com/mastodon/mastodon/releases/tag/v4.2.8" rel="alternate"/>
  </entry>
</feed>
