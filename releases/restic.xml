<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>restic Releases</title>
  <updated>2024-06-03T13:32:28.963796-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/restic/restic/releases/tag/v0.16.0</id>
    <title>New release for restic: restic 0.16.0</title>
    <updated>2023-07-31T14:39:51-04:00</updated>
    <author>
      <name>restic/restic</name>
    </author>
    <content>&lt;p&gt;restic 0.16.0 has been released!&lt;/p&gt;
&lt;p&gt;restic is distributed as a standalone binary: download the correct file for your operating system and architecture, extract the file and just run it. If you run into any issues, please report them at &lt;a href="https://github.com/restic/restic/issues/new"&gt;the GitHub issue tracker&lt;/a&gt; or visit &lt;a href="https://forum.restic.net"&gt;the forum&lt;/a&gt;. If you already have restic &amp;gt;= 0.9.4, you can use &lt;code&gt;restic self-update&lt;/code&gt; to get the latest version in a secure way.&lt;/p&gt;
&lt;p&gt;The binaries released with each restic version are &lt;a href="https://reproducible-builds.org/"&gt;reproducible&lt;/a&gt;, which means that you can reproduce a byte identical version from the source code for that release. Instructions on how to do that in the &lt;a href="https://github.com/restic/restic/blob/master/doc/developer_information.rst"&gt;Developer Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Changelog for restic 0.16.0 (2023-07-31)&lt;/h1&gt;
&lt;p&gt;The following sections list the changes in restic 0.16.0 relevant to restic users. The changes are ordered by importance.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/2565"&gt;#2565&lt;/a&gt;: Support "unlimited" in &lt;code&gt;forget --keep-*&lt;/code&gt; options&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/3311"&gt;#3311&lt;/a&gt;: Support non-UTF8 paths as symlink target&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4199"&gt;#4199&lt;/a&gt;: Avoid lock refresh issues on slow network connections&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4274"&gt;#4274&lt;/a&gt;: Improve lock refresh handling after standby&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4319"&gt;#4319&lt;/a&gt;: Correctly clean up status bar output of the &lt;code&gt;backup&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/pull/4333"&gt;#4333&lt;/a&gt;: &lt;code&gt;generate&lt;/code&gt; and &lt;code&gt;init&lt;/code&gt; no longer silently ignore unexpected arguments&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/pull/4400"&gt;#4400&lt;/a&gt;: Ignore missing folders in &lt;code&gt;rest&lt;/code&gt; backend&lt;/li&gt;
&lt;li&gt;Chg &lt;a href="https://github.com/restic/restic/pull/4176"&gt;#4176&lt;/a&gt;: Fix JSON message type of &lt;code&gt;scan_finished&lt;/code&gt; for the &lt;code&gt;backup&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Chg &lt;a href="https://github.com/restic/restic/pull/4201"&gt;#4201&lt;/a&gt;: Require Go 1.20 for Solaris builds&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/426"&gt;#426&lt;/a&gt;: Show progress bar during restore&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/719"&gt;#719&lt;/a&gt;: Add &lt;code&gt;--retry-lock&lt;/code&gt; option&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/1495"&gt;#1495&lt;/a&gt;: Sort snapshots by timestamp in &lt;code&gt;restic find&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/1759"&gt;#1759&lt;/a&gt;: Add &lt;code&gt;repair index&lt;/code&gt; and &lt;code&gt;repair snapshots&lt;/code&gt; commands&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/1926"&gt;#1926&lt;/a&gt;: Allow certificate paths to be passed through environment variables&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/2359"&gt;#2359&lt;/a&gt;: Provide multi-platform Docker images&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/2468"&gt;#2468&lt;/a&gt;: Add support for non-global Azure clouds&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/2679"&gt;#2679&lt;/a&gt;: Reduce file fragmentation for local backend&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3328"&gt;#3328&lt;/a&gt;: Reduce memory usage by up to 25%&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3397"&gt;#3397&lt;/a&gt;: Improve accuracy of ETA displayed during backup&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3624"&gt;#3624&lt;/a&gt;: Keep oldest snapshot when there are not enough snapshots&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3698"&gt;#3698&lt;/a&gt;: Add support for Managed / Workload Identity to &lt;code&gt;azure&lt;/code&gt; backend&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3871"&gt;#3871&lt;/a&gt;: Support &lt;code&gt;&amp;lt;snapshot&amp;gt;:&amp;lt;subfolder&amp;gt;&lt;/code&gt; syntax to select subfolders&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/3941"&gt;#3941&lt;/a&gt;: Support &lt;code&gt;--group-by&lt;/code&gt; for backup parent selection&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4130"&gt;#4130&lt;/a&gt;: Cancel current command if cache becomes unusable&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4159"&gt;#4159&lt;/a&gt;: Add &lt;code&gt;--human-readable&lt;/code&gt; option to &lt;code&gt;ls&lt;/code&gt; and &lt;code&gt;find&lt;/code&gt; commands&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4188"&gt;#4188&lt;/a&gt;: Include restic version in snapshot metadata&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/pull/4220"&gt;#4220&lt;/a&gt;: Add &lt;code&gt;jq&lt;/code&gt; binary to Docker image&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/pull/4226"&gt;#4226&lt;/a&gt;: Allow specifying region of new buckets in the &lt;code&gt;gs&lt;/code&gt; backend&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4375"&gt;#4375&lt;/a&gt;: Add support for extended attributes on symlinks&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #2565: Support "unlimited" in &lt;code&gt;forget --keep-*&lt;/code&gt; options&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic would previously forget snapshots that should have been kept when a negative value was passed to the &lt;code&gt;--keep-*&lt;/code&gt; options. Negative values are now forbidden. To keep all snapshots, the special value &lt;code&gt;unlimited&lt;/code&gt; is now supported. For example, &lt;code&gt;--keep-monthly unlimited&lt;/code&gt; will keep all monthly snapshots.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#2565](https://github.com/restic/restic/issues/2565) [#4234](https://github.com/restic/restic/pull/4234)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #3311: Support non-UTF8 paths as symlink target&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Earlier restic versions did not correctly &lt;code&gt;backup&lt;/code&gt; and &lt;code&gt;restore&lt;/code&gt; symlinks that contain a non-UTF8 target. Note that this only affected systems that still use a non-Unicode encoding for filesystem paths.&lt;/p&gt;
&lt;p&gt;The repository format is now extended to add support for such symlinks. Please note that snapshots must have been created with at least restic version 0.16.0 for &lt;code&gt;restore&lt;/code&gt; to correctly handle non-UTF8 symlink targets when restoring them.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3311](https://github.com/restic/restic/issues/3311) [#3802](https://github.com/restic/restic/pull/3802)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4199: Avoid lock refresh issues on slow network connections&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On network connections with a low upload speed, backups and other operations could fail with the error message &lt;code&gt;Fatal: failed to refresh lock in time&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This has now been fixed by reworking the lock refresh handling.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4199](https://github.com/restic/restic/issues/4199) [#4304](https://github.com/restic/restic/pull/4304)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4274: Improve lock refresh handling after standby&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If the restic process was stopped or the host running restic entered standby during a long running operation such as a backup, this previously resulted in the operation failing with &lt;code&gt;Fatal: failed to refresh lock in time&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This has now been fixed such that restic first checks whether it is safe to continue the current operation and only throws an error if not.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4274](https://github.com/restic/restic/issues/4274) [#4374](https://github.com/restic/restic/pull/4374)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4319: Correctly clean up status bar output of the &lt;code&gt;backup&lt;/code&gt; command&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Due to a regression in restic 0.15.2, the status bar of the &lt;code&gt;backup&lt;/code&gt; command could leave some output behind. This happened if filenames were printed that are wider than the current terminal width. This has now been fixed.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4319](https://github.com/restic/restic/issues/4319) [#4318](https://github.com/restic/restic/pull/4318)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Bugfix #4333: &lt;code&gt;generate&lt;/code&gt; and &lt;code&gt;init&lt;/code&gt; no longer silently ignore unexpected arguments&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/restic/restic/pull/4333"&gt;#4333&lt;/a&gt; &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bugfix #4400: Ignore missing folders in &lt;code&gt;rest&lt;/code&gt; backend&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If a repository accessed via the REST backend was missing folders, then restic would fail with an error while trying to list the data in the repository. This has been now fixed.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#235](https://github.com/restic/restic/issues/235) [#4400](https://github.com/restic/restic/pull/4400)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Change #4176: Fix JSON message type of &lt;code&gt;scan_finished&lt;/code&gt; for the &lt;code&gt;backup&lt;/code&gt; command&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic incorrectly set the &lt;code&gt;message_type&lt;/code&gt; of the &lt;code&gt;scan_finished&lt;/code&gt; message to &lt;code&gt;status&lt;/code&gt; instead of &lt;code&gt;verbose_status&lt;/code&gt;. This has now been corrected so that the messages report the correct type.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4176](https://github.com/restic/restic/pull/4176)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Change #4201: Require Go 1.20 for Solaris builds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Building restic on Solaris now requires Go 1.20, as the library used to access Azure uses the mmap syscall, which is only available on Solaris starting from Go 1.20. All other platforms however continue to build with Go 1.18.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4201](https://github.com/restic/restic/pull/4201)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #426: Show progress bar during restore&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;restore&lt;/code&gt; command now shows a progress report while restoring files.&lt;/p&gt;
&lt;p&gt;Example: &lt;code&gt;[0:42]  5.76%  23 files 12.98 MiB, total 3456 files 23.54 GiB&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;JSON output is now also supported.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#426](https://github.com/restic/restic/issues/426) [#3413](https://github.com/restic/restic/issues/3413) [#3627](https://github.com/restic/restic/issues/3627) [#3991](https://github.com/restic/restic/pull/3991) [#4314](https://github.com/restic/restic/pull/4314) https://forum.restic.net/t/progress-bar-for-restore/5210
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #719: Add &lt;code&gt;--retry-lock&lt;/code&gt; option&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This option allows specifying a duration for which restic will wait if the repository is already locked.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#719](https://github.com/restic/restic/issues/719) [#2214](https://github.com/restic/restic/pull/2214) [#4107](https://github.com/restic/restic/pull/4107)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #1495: Sort snapshots by timestamp in &lt;code&gt;restic find&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;find&lt;/code&gt; command used to print snapshots in an arbitrary order. Restic now prints snapshots sorted by timestamp.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#1495](https://github.com/restic/restic/issues/1495) [#4409](https://github.com/restic/restic/pull/4409)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #1759: Add &lt;code&gt;repair index&lt;/code&gt; and &lt;code&gt;repair snapshots&lt;/code&gt; commands&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;rebuild-index&lt;/code&gt; command has been renamed to &lt;code&gt;repair index&lt;/code&gt;. The old name will still work, but is deprecated.&lt;/p&gt;
&lt;p&gt;When a snapshot was damaged, the only option up to now was to completely forget the snapshot, even if only some unimportant files in it were damaged and other files were still fine.&lt;/p&gt;
&lt;p&gt;Restic now has a &lt;code&gt;repair snapshots&lt;/code&gt; command, which can salvage any non-damaged files and parts of files in the snapshots by removing damaged directories and missing file contents. Please note that the damaged data may still be lost and see the "Troubleshooting" section in the documentation for more details.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#1759](https://github.com/restic/restic/issues/1759) [#1714](https://github.com/restic/restic/issues/1714) [#1798](https://github.com/restic/restic/issues/1798) [#2334](https://github.com/restic/restic/issues/2334) [#2876](https://github.com/restic/restic/pull/2876) https://forum.restic.net/t/corrupted-repo-how-to-repair/799https://forum.restic.net/t/recovery-options-for-damaged-repositories/1571
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #1926: Allow certificate paths to be passed through environment variables&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic will now read paths to certificates from the environment variables &lt;code&gt;RESTIC_CACERT&lt;/code&gt; or &lt;code&gt;RESTIC_TLS_CLIENT_CERT&lt;/code&gt; if &lt;code&gt;--cacert&lt;/code&gt; or &lt;code&gt;--tls-client-cert&lt;/code&gt; are not specified.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#1926](https://github.com/restic/restic/issues/1926) [#4384](https://github.com/restic/restic/pull/4384)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #2359: Provide multi-platform Docker images&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The official Docker images are now built for the architectures linux/386, linux/amd64, linux/arm and linux/arm64.&lt;/p&gt;
&lt;p&gt;As an alternative to the Docker Hub, the Docker images are also available on ghcr.io, the GitHub Container Registry.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#2359](https://github.com/restic/restic/issues/2359) [#4269](https://github.com/restic/restic/issues/4269) [#4364](https://github.com/restic/restic/pull/4364)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #2468: Add support for non-global Azure clouds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;azure&lt;/code&gt; backend previously only supported storages using the global domain &lt;code&gt;core.windows.net&lt;/code&gt;. This meant that backups to other domains such as Azure China (&lt;code&gt;core.chinacloudapi.cn&lt;/code&gt;) or Azure Germany (&lt;code&gt;core.cloudapi.de&lt;/code&gt;) were not supported. Restic now allows overriding the global domain using the environment variable &lt;code&gt;AZURE_ENDPOINT_SUFFIX&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#2468](https://github.com/restic/restic/issues/2468) [#4387](https://github.com/restic/restic/pull/4387)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #2679: Reduce file fragmentation for local backend&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before this change, local backend files could become fragmented. Now restic will try to preallocate space for pack files to avoid their fragmentation.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#2679](https://github.com/restic/restic/issues/2679) [#3261](https://github.com/restic/restic/pull/3261)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3328: Reduce memory usage by up to 25%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The in-memory index has been optimized to be more garbage collection friendly. Restic now defaults to &lt;code&gt;GOGC=50&lt;/code&gt; to run the Go garbage collector more frequently.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3328](https://github.com/restic/restic/issues/3328) [#4352](https://github.com/restic/restic/pull/4352) [#4353](https://github.com/restic/restic/pull/4353)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3397: Improve accuracy of ETA displayed during backup&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic's &lt;code&gt;backup&lt;/code&gt; command displayed an ETA that did not adapt when the rate of progress made during the backup changed during the course of the backup.&lt;/p&gt;
&lt;p&gt;Restic now uses recent progress when computing the ETA. It is important to realize that the estimate may still be wrong, because restic cannot predict the future, but the hope is that the ETA will be more accurate in most cases.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3397](https://github.com/restic/restic/issues/3397) [#3563](https://github.com/restic/restic/pull/3563)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3624: Keep oldest snapshot when there are not enough snapshots&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;forget&lt;/code&gt; command now additionally preserves the oldest snapshot if fewer snapshots than allowed by the &lt;code&gt;--keep-*&lt;/code&gt; parameters would otherwise be kept. This maximizes the amount of history kept within the specified limits.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3624](https://github.com/restic/restic/issues/3624) [#4366](https://github.com/restic/restic/pull/4366) https://forum.restic.net/t/keeping-yearly-snapshots-policy-when-backup-began-during-the-year/4670/2
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3698: Add support for Managed / Workload Identity to &lt;code&gt;azure&lt;/code&gt; backend&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic now additionally supports authenticating to Azure using Workload Identity or Managed Identity credentials, which are automatically injected in several environments such as a managed Kubernetes cluster.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3698](https://github.com/restic/restic/issues/3698) [#4029](https://github.com/restic/restic/pull/4029)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3871: Support &lt;code&gt;&amp;lt;snapshot&amp;gt;:&amp;lt;subfolder&amp;gt;&lt;/code&gt; syntax to select subfolders&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Commands like &lt;code&gt;diff&lt;/code&gt; or &lt;code&gt;restore&lt;/code&gt; always worked with the full snapshot. This did not allow comparing only a specific subfolder or only restoring that folder (&lt;code&gt;restore --include subfolder&lt;/code&gt; filters the restored files, but still creates the directories included in &lt;code&gt;subfolder&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;The commands &lt;code&gt;diff&lt;/code&gt;, &lt;code&gt;dump&lt;/code&gt;, &lt;code&gt;ls&lt;/code&gt; and &lt;code&gt;restore&lt;/code&gt; now support the &lt;code&gt;&amp;lt;snapshot&amp;gt;:&amp;lt;subfolder&amp;gt;&lt;/code&gt; syntax, where &lt;code&gt;snapshot&lt;/code&gt; is the ID of a snapshot (or the string &lt;code&gt;latest&lt;/code&gt;) and &lt;code&gt;subfolder&lt;/code&gt; is a path within the snapshot. The commands will then only work with the specified path of the snapshot. The &lt;code&gt;subfolder&lt;/code&gt; must be a path to a folder as returned by &lt;code&gt;ls&lt;/code&gt;. Two examples:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;restic restore -t target latest:/some/path&lt;/code&gt; &lt;code&gt;restic diff 12345678:/some/path 90abcef:/some/path&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For debugging purposes, the &lt;code&gt;cat&lt;/code&gt; command now supports &lt;code&gt;cat tree &amp;lt;snapshot&amp;gt;:&amp;lt;subfolder&amp;gt;&lt;/code&gt; to return the directory metadata for the given subfolder.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3871](https://github.com/restic/restic/issues/3871) [#4334](https://github.com/restic/restic/pull/4334)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #3941: Support &lt;code&gt;--group-by&lt;/code&gt; for backup parent selection&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Previously, the &lt;code&gt;backup&lt;/code&gt; command by default selected the parent snapshot based on the hostname and the backup targets. When the backup path list changed, the &lt;code&gt;backup&lt;/code&gt; command was unable to determine a suitable parent snapshot and had to read all files again.&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;--group-by&lt;/code&gt; option for the &lt;code&gt;backup&lt;/code&gt; command allows filtering snapshots for the parent selection by &lt;code&gt;host&lt;/code&gt;, &lt;code&gt;paths&lt;/code&gt; and &lt;code&gt;tags&lt;/code&gt;. It defaults to &lt;code&gt;host,paths&lt;/code&gt; which selects the latest snapshot with hostname and paths matching those of the backup run. This matches the behavior of prior restic versions.&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;--group-by&lt;/code&gt; option should be set to the same value as passed to &lt;code&gt;forget --group-by&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#3941](https://github.com/restic/restic/issues/3941) [#4081](https://github.com/restic/restic/pull/4081)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4130: Cancel current command if cache becomes unusable&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If the cache directory was removed or ran out of space while restic was running, this would previously cause further caching attempts to fail and thereby drastically slow down the command execution. Now, the currently running command is instead canceled.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4130](https://github.com/restic/restic/issues/4130) [#4166](https://github.com/restic/restic/pull/4166)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4159: Add &lt;code&gt;--human-readable&lt;/code&gt; option to &lt;code&gt;ls&lt;/code&gt; and &lt;code&gt;find&lt;/code&gt; commands&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Previously, when using the &lt;code&gt;-l&lt;/code&gt; option with the &lt;code&gt;ls&lt;/code&gt; and &lt;code&gt;find&lt;/code&gt; commands, the displayed size was always in bytes, without an option for a more human readable format such as MiB or GiB.&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;--human-readable&lt;/code&gt; option will convert longer size values into more human friendly values with an appropriate suffix depending on the output size. For example, a size of &lt;code&gt;14680064&lt;/code&gt; will be shown as &lt;code&gt;14.000 MiB&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4159](https://github.com/restic/restic/issues/4159) [#4351](https://github.com/restic/restic/pull/4351)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4188: Include restic version in snapshot metadata&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The restic version used to backup a snapshot is now included in its metadata and shown when inspecting a snapshot using &lt;code&gt;restic cat snapshot &amp;lt;snapshotID&amp;gt;&lt;/code&gt; or &lt;code&gt;restic snapshots --json&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4188](https://github.com/restic/restic/issues/4188) [#4378](https://github.com/restic/restic/pull/4378)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4220: Add &lt;code&gt;jq&lt;/code&gt; binary to Docker image&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The Docker image now contains &lt;code&gt;jq&lt;/code&gt;, which can be useful to process JSON data output by restic.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4220](https://github.com/restic/restic/pull/4220)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4226: Allow specifying region of new buckets in the &lt;code&gt;gs&lt;/code&gt; backend&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Previously, buckets used by the Google Cloud Storage backend would always get created in the "us" region. It is now possible to specify the region where a bucket should be created by using the &lt;code&gt;-o gs.region=us&lt;/code&gt; option.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4226](https://github.com/restic/restic/pull/4226)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4375: Add support for extended attributes on symlinks&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic now supports extended attributes on symlinks when backing up, restoring, or FUSE-mounting snapshots. This includes, for example, the &lt;code&gt;security.selinux&lt;/code&gt; xattr on Linux distributions that use SELinux.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4375](https://github.com/restic/restic/issues/4375) [#4379](https://github.com/restic/restic/pull/4379)
&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://github.com/restic/restic/releases/tag/v0.16.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/restic/restic/releases/tag/v0.16.1</id>
    <title>New release for restic: restic 0.16.1</title>
    <updated>2023-10-24T14:20:39-04:00</updated>
    <author>
      <name>restic/restic</name>
    </author>
    <content>&lt;p&gt;restic 0.16.1 has been released! It contains a few usage and cosmetic improvements, but also one bugfix for a very unlikely but still possible data corruption issue when using the max compression level. Please read the changelog for more details and information on how to verify your repository if you used max compression. Please also note that the auto compression level (which is the default) was never affected.&lt;/p&gt;
&lt;p&gt;restic is distributed as a standalone binary: download the correct file for your operating system and architecture, extract the file and just run it. If you run into any issues, please report them at &lt;a href="https://github.com/restic/restic/issues/new"&gt;the GitHub issue tracker&lt;/a&gt; or visit &lt;a href="https://forum.restic.net"&gt;the forum&lt;/a&gt;. If you already have restic &amp;gt;= 0.9.4, you can use &lt;code&gt;restic self-update&lt;/code&gt; to get the latest version in a secure way.&lt;/p&gt;
&lt;p&gt;The binaries released with each restic version are &lt;a href="https://reproducible-builds.org/"&gt;reproducible&lt;/a&gt;, which means that you can reproduce a byte identical version from the source code for that release. Instructions on how to do that in the &lt;a href="https://github.com/restic/restic/blob/master/doc/developer_information.rst"&gt;Developer Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Changelog for restic 0.16.1 (2023-10-24)&lt;/h1&gt;
&lt;p&gt;The following sections list the changes in restic 0.16.1 relevant to restic users. The changes are ordered by importance.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4513"&gt;#4513&lt;/a&gt;: Make &lt;code&gt;key list&lt;/code&gt; command honor &lt;code&gt;--no-lock&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4516"&gt;#4516&lt;/a&gt;: Do not try to load password on command line autocomplete&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4523"&gt;#4523&lt;/a&gt;: Update zstd library to fix possible data corruption at max. compression&lt;/li&gt;
&lt;li&gt;Chg &lt;a href="https://github.com/restic/restic/pull/4532"&gt;#4532&lt;/a&gt;: Update dependencies and require Go 1.19 or newer&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/229"&gt;#229&lt;/a&gt;: Show progress bar while loading the index&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4128"&gt;#4128&lt;/a&gt;: Automatically set &lt;code&gt;GOMAXPROCS&lt;/code&gt; in resource-constrained containers&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/pull/4480"&gt;#4480&lt;/a&gt;: Allow setting REST password and username via environment variables&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/pull/4511"&gt;#4511&lt;/a&gt;: Include inode numbers in JSON output for &lt;code&gt;find&lt;/code&gt; and &lt;code&gt;ls&lt;/code&gt; commands&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/pull/4519"&gt;#4519&lt;/a&gt;: Add config option to set SFTP command arguments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4513: Make &lt;code&gt;key list&lt;/code&gt; command honor &lt;code&gt;--no-lock&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;key list&lt;/code&gt; command now supports the &lt;code&gt;--no-lock&lt;/code&gt; options. This allows determining which keys a repo can be accessed by without the need for having write access (e.g., read-only sftp access, filesystem snapshot).&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4513](https://github.com/restic/restic/issues/4513) [#4514](https://github.com/restic/restic/pull/4514)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4516: Do not try to load password on command line autocomplete&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The command line autocompletion previously tried to load the repository password. This could cause the autocompletion not to work. Now, this step gets skipped.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4516](https://github.com/restic/restic/issues/4516) [#4526](https://github.com/restic/restic/pull/4526)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4523: Update zstd library to fix possible data corruption at max. compression&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In restic 0.16.0, backups where the compression level was set to &lt;code&gt;max&lt;/code&gt; (using &lt;code&gt;--compression max&lt;/code&gt;) could in rare and very specific circumstances result in data corruption due to a bug in the library used for compressing data.&lt;/p&gt;
&lt;p&gt;Restic now uses the latest version of the library used to compress data, which includes a fix for this issue. Please note that the &lt;code&gt;auto&lt;/code&gt; compression level (which restic uses by default) was never affected, and even if you used &lt;code&gt;max&lt;/code&gt; compression, chances of being affected by this issue were very small.&lt;/p&gt;
&lt;p&gt;To check a repository for any corruption, run &lt;code&gt;restic check --read-data&lt;/code&gt;. This will download and verify the whole repository and can be used at any time to completely verify the integrity of a repository. If the &lt;code&gt;check&lt;/code&gt; command detects anomalies, follow the suggested steps.&lt;/p&gt;
&lt;p&gt;To simplify any needed repository repair and minimize data loss, there is also a new and experimental &lt;code&gt;repair packs&lt;/code&gt; command that salvages all valid data from the affected pack files (see &lt;code&gt;restic help repair packs&lt;/code&gt; for more information).&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4523](https://github.com/restic/restic/issues/4523) [#4530](https://github.com/restic/restic/pull/4530)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Change #4532: Update dependencies and require Go 1.19 or newer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We have updated all dependencies. Since some libraries require newer Go standard library features, support for Go 1.18 has been dropped, which means that restic now requires at least Go 1.19 to build.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4532](https://github.com/restic/restic/pull/4532) [#4533](https://github.com/restic/restic/pull/4533)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #229: Show progress bar while loading the index&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic did not provide any feedback while loading index files. Now, there is a progress bar that shows the index loading progress.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#229](https://github.com/restic/restic/issues/229) [#4419](https://github.com/restic/restic/pull/4419)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4128: Automatically set &lt;code&gt;GOMAXPROCS&lt;/code&gt; in resource-constrained containers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When running restic in a Linux container with CPU-usage limits, restic now automatically adjusts &lt;code&gt;GOMAXPROCS&lt;/code&gt;. This helps to reduce the memory consumption on hosts with many CPU cores.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4128](https://github.com/restic/restic/issues/4128) [#4485](https://github.com/restic/restic/pull/4485) [#4531](https://github.com/restic/restic/pull/4531)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4480: Allow setting REST password and username via environment variables&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Previously, it was only possible to specify the REST-server username and password in the repository URL, or by using the &lt;code&gt;--repository-file&lt;/code&gt; option. This meant it was not possible to use authentication in contexts where the repository URL is stored in publicly accessible way.&lt;/p&gt;
&lt;p&gt;Restic now allows setting the username and password using the &lt;code&gt;RESTIC_REST_USERNAME&lt;/code&gt; and &lt;code&gt;RESTIC_REST_PASSWORD&lt;/code&gt; variables.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4480](https://github.com/restic/restic/pull/4480)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4511: Include inode numbers in JSON output for &lt;code&gt;find&lt;/code&gt; and &lt;code&gt;ls&lt;/code&gt; commands&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restic used to omit the inode numbers in the JSON messages emitted for nodes by the &lt;code&gt;ls&lt;/code&gt; command as well as for matches by the &lt;code&gt;find&lt;/code&gt; command. It now includes those values whenever they are available.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4511](https://github.com/restic/restic/pull/4511)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4519: Add config option to set SFTP command arguments&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When using the &lt;code&gt;sftp&lt;/code&gt; backend, scenarios where a custom identity file was needed for the SSH connection, required the full command to be specified: &lt;code&gt;-o sftp.command='ssh user@host:port -i /ssh/my_private_key -s sftp'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now, the &lt;code&gt;-o sftp.args=...&lt;/code&gt; option can be passed to restic to specify custom arguments for the SSH command executed by the SFTP backend. This simplifies the above example to &lt;code&gt;-o sftp.args='-i /ssh/my_private_key'&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4241](https://github.com/restic/restic/issues/4241) [#4519](https://github.com/restic/restic/pull/4519)
&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://github.com/restic/restic/releases/tag/v0.16.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/restic/restic/releases/tag/v0.16.2</id>
    <title>New release for restic: restic 0.16.2</title>
    <updated>2023-10-29T15:05:02-04:00</updated>
    <author>
      <name>restic/restic</name>
    </author>
    <content>&lt;p&gt;restic 0.16.2 restores support for ARMv5 which was accidentally not included in the previous one, and also fixes missing documentation on &lt;a href="https://restic.readthedocs.io/"&gt;Read the Docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;restic is distributed as a standalone binary: download the correct file for your operating system and architecture, extract the file and just run it. If you run into any issues, please report them at &lt;a href="https://github.com/restic/restic/issues/new"&gt;the GitHub issue tracker&lt;/a&gt; or visit &lt;a href="https://forum.restic.net"&gt;the forum&lt;/a&gt;. If you already have restic &amp;gt;= 0.9.4, you can use &lt;code&gt;restic self-update&lt;/code&gt; to get the latest version in a secure way.&lt;/p&gt;
&lt;p&gt;The binaries released with each restic version are &lt;a href="https://reproducible-builds.org/"&gt;reproducible&lt;/a&gt;, which means that you can reproduce a byte identical version from the source code for that release. Instructions on how to do that in the &lt;a href="https://github.com/restic/restic/blob/master/doc/developer_information.rst"&gt;Developer Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Changelog for restic 0.16.2 (2023-10-29)&lt;/h1&gt;
&lt;p&gt;The following sections list the changes in restic 0.16.2 relevant to restic users. The changes are ordered by importance.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4540"&gt;#4540&lt;/a&gt;: Restore ARMv5 support for ARM binaries&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/pull/4545"&gt;#4545&lt;/a&gt;: Repair documentation build on Read the Docs&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4540: Restore ARMv5 support for ARM binaries&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The official release binaries for restic 0.16.1 were accidentally built to require ARMv7. The build process is now updated to restore support for ARMv5.&lt;/p&gt;
&lt;p&gt;Please note that restic 0.17.0 will drop support for ARMv5 and require at least ARMv6.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4540](https://github.com/restic/restic/issues/4540)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4545: Repair documentation build on Read the Docs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For restic 0.16.1, no documentation was available at https://restic.readthedocs.io/ .&lt;/p&gt;
&lt;p&gt;The documentation build process is now updated to work again.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4545](https://github.com/restic/restic/pull/4545)
&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://github.com/restic/restic/releases/tag/v0.16.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/restic/restic/releases/tag/v0.16.3</id>
    <title>New release for restic: restic 0.16.3</title>
    <updated>2024-01-14T14:36:47-05:00</updated>
    <author>
      <name>restic/restic</name>
    </author>
    <content>&lt;p&gt;This release fixes a couple of bugs on Windows and in the &lt;code&gt;restore&lt;/code&gt; command. It also works around an unlikely yet possible situation with &lt;code&gt;rclone&lt;/code&gt; which could potentially result in data loss.&lt;/p&gt;
&lt;p&gt;restic is distributed as a standalone binary: download the correct file for your operating system and architecture, extract the file and just run it. If you run into any issues, please report them at &lt;a href="https://github.com/restic/restic/issues/new"&gt;the GitHub issue tracker&lt;/a&gt; or visit &lt;a href="https://forum.restic.net"&gt;the forum&lt;/a&gt;. If you already have restic &amp;gt;= 0.9.4, you can use &lt;code&gt;restic self-update&lt;/code&gt; to get the latest version in a secure way.&lt;/p&gt;
&lt;p&gt;The binaries released with each restic version are &lt;a href="https://reproducible-builds.org/"&gt;reproducible&lt;/a&gt;, which means that you can reproduce a byte identical version from the source code for that release. Instructions on how to do that in the &lt;a href="https://github.com/restic/restic/blob/master/doc/developer_information.rst"&gt;Developer Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Changelog for restic 0.16.3 (2024-01-14)&lt;/h1&gt;
&lt;p&gt;The following sections list the changes in restic 0.16.3 relevant to restic users. The changes are ordered by importance.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4560"&gt;#4560&lt;/a&gt;: Improve errors for irregular files on Windows&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4574"&gt;#4574&lt;/a&gt;: Support backup of deduplicated files on Windows again&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4612"&gt;#4612&lt;/a&gt;: Improve error handling for &lt;code&gt;rclone&lt;/code&gt; backend&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/pull/4624"&gt;#4624&lt;/a&gt;: Correct &lt;code&gt;restore&lt;/code&gt; progress information if an error occurs&lt;/li&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/pull/4626"&gt;#4626&lt;/a&gt;: Improve reliability of restoring large files&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4560: Improve errors for irregular files on Windows&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since Go 1.21, most filesystem reparse points on Windows are considered to be irregular files. This caused restic to show an &lt;code&gt;error: invalid node type ""&lt;/code&gt; error message for those files.&lt;/p&gt;
&lt;p&gt;This error message has now been improved and includes the relevant file path: &lt;code&gt;error: nodeFromFileInfo path/to/file: unsupported file type "irregular"&lt;/code&gt;. As irregular files are not required to behave like regular files, it is not possible to provide a generic way to back up those files.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4560](https://github.com/restic/restic/issues/4560) [#4620](https://github.com/restic/restic/pull/4620) https://forum.restic.net/t/windows-backup-error-invalid-node-type/6875
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4574: Support backup of deduplicated files on Windows again&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With the official release builds of restic 0.16.1 and 0.16.2, it was not possible to back up files that were deduplicated by the corresponding Windows Server feature. This also applied to restic versions built using Go 1.21.0-1.21.4.&lt;/p&gt;
&lt;p&gt;The Go version used to build restic has now been updated to fix this.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4574](https://github.com/restic/restic/issues/4574) [#4621](https://github.com/restic/restic/pull/4621)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4612: Improve error handling for &lt;code&gt;rclone&lt;/code&gt; backend&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since restic 0.16.0, if rclone encountered an error while listing files, this could in rare circumstances cause restic to assume that there are no files. Although unlikely, this situation could result in data loss if it were to happen right when the &lt;code&gt;prune&lt;/code&gt; command is listing existing snapshots.&lt;/p&gt;
&lt;p&gt;Error handling has now been improved to detect and work around this case.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4612](https://github.com/restic/restic/issues/4612) [#4618](https://github.com/restic/restic/pull/4618)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4624: Correct &lt;code&gt;restore&lt;/code&gt; progress information if an error occurs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If an error occurred while restoring a snapshot, this could cause the &lt;code&gt;restore&lt;/code&gt; progress bar to show incorrect information. In addition, if a data file could not be loaded completely, then errors would also be reported for some already restored files.&lt;/p&gt;
&lt;p&gt;Error reporting of the &lt;code&gt;restore&lt;/code&gt; command has now been made more accurate.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4624](https://github.com/restic/restic/pull/4624) https://forum.restic.net/t/errors-restoring-with-restic-on-windows-server-s3/6943
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4626: Improve reliability of restoring large files&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In some cases restic failed to restore large files that frequently contain the same file chunk. In combination with certain backends, this could result in network connection timeouts that caused incomplete restores.&lt;/p&gt;
&lt;p&gt;Restic now includes special handling for such file chunks to ensure reliable restores.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4626](https://github.com/restic/restic/pull/4626) https://forum.restic.net/t/errors-restoring-with-restic-on-windows-server-s3/6943
&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://github.com/restic/restic/releases/tag/v0.16.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/restic/restic/releases/tag/v0.16.4</id>
    <title>New release for restic: restic 0.16.4</title>
    <updated>2024-02-04T14:18:43-05:00</updated>
    <author>
      <name>restic/restic</name>
    </author>
    <content>&lt;p&gt;This release works around and improves detection of a bug in the compression library used by restic. The resulting issue only happens when using restic 0.16.3 and the &lt;code&gt;max&lt;/code&gt; compression level (the default &lt;code&gt;auto&lt;/code&gt; and &lt;code&gt;off&lt;/code&gt; compression levels are not affected), and when the source files being backed up have specific data in them to trigger the bug. If you use &lt;code&gt;max&lt;/code&gt; compression, you can use &lt;code&gt;restic check --read-data&lt;/code&gt; to make sure you're not affected.&lt;/p&gt;
&lt;p&gt;restic is distributed as a standalone binary: download the correct file for your operating system and architecture, extract the file and just run it. If you run into any issues, please report them at &lt;a href="https://github.com/restic/restic/issues/new"&gt;the GitHub issue tracker&lt;/a&gt; or visit &lt;a href="https://forum.restic.net"&gt;the forum&lt;/a&gt;. If you already have restic &amp;gt;= 0.9.4, you can use &lt;code&gt;restic self-update&lt;/code&gt; to get the latest version in a secure way.&lt;/p&gt;
&lt;p&gt;The binaries released with each restic version are &lt;a href="https://reproducible-builds.org/"&gt;reproducible&lt;/a&gt;, which means that you can reproduce a byte identical version from the source code for that release. Instructions on how to do that in the &lt;a href="https://github.com/restic/restic/blob/master/doc/developer_information.rst"&gt;Developer Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Changelog for restic 0.16.4 (2024-02-04)&lt;/h1&gt;
&lt;p&gt;The following sections list the changes in restic 0.16.4 relevant to restic users. The changes are ordered by importance.&lt;/p&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix &lt;a href="https://github.com/restic/restic/issues/4677"&gt;#4677&lt;/a&gt;: Downgrade zstd library to fix rare data corruption at max. compression&lt;/li&gt;
&lt;li&gt;Enh &lt;a href="https://github.com/restic/restic/issues/4529"&gt;#4529&lt;/a&gt;: Add extra verification of data integrity before upload&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Details&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bugfix #4677: Downgrade zstd library to fix rare data corruption at max. compression&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In restic 0.16.3, backups where the compression level was set to &lt;code&gt;max&lt;/code&gt; (using &lt;code&gt;--compression max&lt;/code&gt;) could in rare and very specific circumstances result in data corruption due to a bug in the library used for compressing data. Restic 0.16.1 and 0.16.2 were not affected.&lt;/p&gt;
&lt;p&gt;Restic now uses the previous version of the library used to compress data, the same version used by restic 0.16.2. Please note that the &lt;code&gt;auto&lt;/code&gt; compression level (which restic uses by default) was never affected, and even if you used &lt;code&gt;max&lt;/code&gt; compression, chances of being affected by this issue are small.&lt;/p&gt;
&lt;p&gt;To check a repository for any corruption, run &lt;code&gt;restic check --read-data&lt;/code&gt;. This will download and verify the whole repository and can be used at any time to completely verify the integrity of a repository. If the &lt;code&gt;check&lt;/code&gt; command detects anomalies, follow the suggested steps.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4677](https://github.com/restic/restic/issues/4677) [#4679](https://github.com/restic/restic/pull/4679)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Enhancement #4529: Add extra verification of data integrity before upload&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hardware issues, or a bug in restic or its dependencies, could previously cause corruption in the files restic created and stored in the repository. Detecting such corruption previously required explicitly running the &lt;code&gt;check --read-data&lt;/code&gt; or &lt;code&gt;check --read-data-subset&lt;/code&gt; commands.&lt;/p&gt;
&lt;p&gt;To further ensure data integrity, even in the case of hardware issues or software bugs, restic now performs additional verification of the files about to be uploaded to the repository.&lt;/p&gt;
&lt;p&gt;These extra checks will increase CPU usage during backups. They can therefore, if absolutely necessary, be disabled using the &lt;code&gt;--no-extra-verify&lt;/code&gt; global option. Please note that this should be combined with more active checking using the previously mentioned check commands.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[#4529](https://github.com/restic/restic/issues/4529) [#4681](https://github.com/restic/restic/pull/4681)
&lt;/code&gt;&lt;/pre&gt;</content>
    <link href="https://github.com/restic/restic/releases/tag/v0.16.4" rel="alternate"/>
  </entry>
</feed>
